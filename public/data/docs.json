[{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/555","url":"","title":"Creating Previews","command":"creating-previews","content":"<meta path=\"help/preview\">\r\n\r\n# Creating Previews\r\n\r\nEach choice in an `arg` can have an associated `preview`. Previews gracefully enhance from a string all the way up to multiple async functions that return strings based on choice.\r\n\r\n\r\n```js\r\n/** @type {import(\"@johnlindquist/kit\")} */\r\n\r\n// Just a string\r\nawait arg(\r\n  \"Select a fruit\",\r\n  md(`I recommend typing \"Apple\"`, `p-5`) // \"md\" converts strings to HTML. \"p-5\" is a padding style applied to the container\r\n)\r\n\r\n// A function, takes typed \"input\", returns string\r\nawait arg(\"Select a fruit\", input =>\r\n  md(`You typed \"${input}\"`, `p-5`)\r\n)\r\n\r\n// An async function, takes typed \"input\", returns string\r\n// `hightlight` requires \"async\" takes markdown, applies code highlighting\r\n\r\nawait arg(\r\n  \"Select a fruit\",\r\n  async input =>\r\n    await highlight(` \r\n~~~js\r\nawait arg(\"${input}\")\r\n~~~\r\n  `)\r\n)\r\n\r\n// A \"preview\" per choice\r\nawait arg(\"Select a fruit\", [\r\n  { name: \"Apple\", preview: `Apple, yum! üçé` },\r\n  { name: \"Banana\", preview: `Banana, yum too! üçå` },\r\n])\r\n\r\n// Async \"preview\" per choice\r\nlet preview = async ({ name, input }) =>\r\n  await highlight(`\r\n~~~js\r\n// ${name}\r\nawait arg(\"${input}!\")\r\n~~~\r\n`)\r\n\r\n//\"input\" param is required to switch prompt mode from \"filter list\" to \"generate list\"\r\nawait arg(\"Select a fruit\", async input => {\r\n  return [\r\n    { name: `Apple ${input}`, preview },\r\n    { name: `Banana ${input}`, preview },\r\n  ]\r\n})\r\n```","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/552","url":"","title":"Allow users to bookmark and rate scripts.","command":"allow-users-to-bookmark-and-rate-scripts","content":"It would be nice if users could rate scripts, maybe just a simple \"like\" button...  and maybe an \"add to favorites\" button? üåû","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/548","url":"","title":"Check for Updates","command":"check-for-updates","content":"<meta path=\"kit/update\">\n      \n# Check for Updates\n\nKit.app will check for updates each time your machine wakes from sleep. But if you heard about an update and just can't wait, trigger this command to grab it.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/547","url":"","title":"Toggle Tray Icon","command":"toggle-tray-icon","content":"<meta path=\"kit/toggle-tray\">\n      \n# Toggle Tray Icon\n\nToggle if the system tray icon is visible\n","extension":".md"},{"system":"unlock-screen","avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/546","url":"","title":"View System Event Scripts","command":"view-system-event-scripts","content":"<meta path=\"kit/system-events\">\n      \n# View System Event Scripts\n\nThis menu shows scripts that run on system events.\n\nAdd the `System` metadata to run your script on a system event\n\n```js\n// System: unlock-screen\n```\n\nAvailable events:\n\n- suspend\n- resume\n- on-ac\n- on-battery\n- shutdown\n- lock-screen\n- unlock-screen\n- user-did-become-active\n- user-did-resign-active\n- Read about the available events [here](https://www.electronjs.org/docs/latest/api/power-monitor#events)\n\n> Note: YMMV based on your specific machine setup.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/545","url":"","title":"Sync $PATH from Terminal to Kit.app","command":"sync-dollarpath-from-terminal-to-kitapp","content":"<meta path=\"kit/sync-path-instructions\">\n      \n# Sync $PATH from Terminal to Kit.app\n\nHave a command that's working in your terminal, but doesn't work when you call it with Script Kit?\n\nUse this to sync up your \"PATH\" from your terminal to the \"PATH\" that Script Kit will use.\n\nYou can manually edit a `PATH` value any time in `~/.kenv/.env`\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/544","url":"","title":"Switch to TypeScript Mode","command":"switch-to-typescript-mode","content":"<meta path=\"kit/switch-to-ts\">\n      \n# Switch to TypeScript Mode\n\nPrefer TypeScript for your scripts? Hit _Enter_!\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/543","url":"","title":"Switch to JavaScript Mode","command":"switch-to-javascript-mode","content":"<meta path=\"kit/switch-to-js\">\n      \n# Switch to JavaScript Mode\n\nPrefer JavaScript for your scripts? Hit _Enter_!\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/542","url":"","title":"Prepare Script for Stream Deck","command":"prepare-script-for-stream-deck","content":"<meta path=\"kit/stream-deck\">\n      \n# Prepare Script for Stream Deck\n\nWant to map a script to your Stream Deck buttons? Use this to walk you through the process!\n","extension":".md"},{"schedule":"*/10 * * * * *","avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/541","url":"","title":"View Schedule","command":"view-schedule","content":"<meta path=\"kit/schedule\">\n      \n# View Schedule\n\nList all of the scheduled scripts and see the next time time they'll run.\n\nSchedule a script to run on a cron with the `Schedule` metadata:\n\n```js\n// Schedule: */10 * * * * *\n```\n\nUse [https://crontab.guru/](https://crontab.guru/) to easily generate cron syntax.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/540","url":"","title":"Quit","command":"quit","content":"<meta path=\"kit/quit\">\n      \n# Quit\n\nSee you soon! üëã\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/539","url":"","title":"Open Script Kit at Login","command":"open-script-kit-at-login","content":"<meta path=\"kit/open-at-login\">\n      \n# Open Script Kit at Login\n\nToggle if Script Kit opens when you log on\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/538","url":"","title":"Manage npm Packages","command":"manage-npm-packages","content":"<meta path=\"kit/manage-npm\">\n      \n# Manage npm Packages\n\nThis will help you install/uninstall packages from your `~/.kenv/node_modules`\n\n> Note: You can use the `npm` method in your script to prompt the user to auto-install:\n\n```js\nlet express = await npm(\"express\")\n```\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/537","url":"","title":"Open kit.log","command":"open-kitlog","content":"<meta path=\"kit/kit-log\">\n      \n# Open kit.log\n\nView the Kit.app log at `~/.kit/logs/kit.log`\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/536","url":"","title":"Clear Kit Prompt Cache","command":"clear-kit-prompt-cache","content":"<meta path=\"kit/kit-clear-prompt\">\n      \n# Clear Kit Prompt Cache\n\nEach time you move or resize the prompt around for your scripts, Script Kit will store the position and size. If you want to reset the position of you prompts back to the centered defaults, then run this command.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/535","url":"","title":"Manage Kit Environments","command":"manage-kit-environments","content":"<meta path=\"kit/kenv-manage\">\n      \n# Manage Kit Environments\n\nA \"kenv\" (Kit Environment) is a directory with a `scripts` directory. This is the place to create a kenv to manage scripts for your dev team or projects that expose APIs (GitHub, Vercel, etc). We'll be releasing official Script Kit kenvs in the future to show off some of the best practices. üëç\n\nClone, create new, link, push, pull, remove. This menu allows you to manage any of the kenvs you've added to your machine.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/534","url":"","title":"Credits","command":"credits","content":"<meta path=\"kit/credits\">\n      \n# Credits\n\n## John Lindquist\n\nDevelopment\n\n- [https://johnlindquist.com](https://johnlindquist.com)\n- [@johnlindquist](https://twitter.com/johnlindquist)\n\n## Vojta Holik\n\nDesign\n\n- [https://vojta.io/](https://vojta.io/)\n- [@vjthlk](https://twitter.com/vjthlk)\n\n## Supported By\n\n- [egghead.io](https://egghead.io)\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/533","url":"","title":"Generate bin Files","command":"generate-bin-files","content":"<meta path=\"kit/create-all-bins\">\n      \n# Generate bin Files\n\nIf you manually manage files in the `scripts` dir (instead of using Kit.app or the `kit` CLI) you may run into the scenarios where you have to re-generate all the `bin` executables. This will do that for you.\n","extension":".md"},{"shortcut":"cmd option g","avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/532","url":"","title":"Add/Change a Script Shortcut","command":"addchange-a-script-shortcut","content":"<meta path=\"kit/change-shortcut\">\n      \n# Add/Change a Script Shortcut\n\nThis list all the scripts and allows you to add a shortcut to it.\n\nYou can manually add shortcuts to scripts like so:\n\n```js\n// Shortcut: cmd option g\n```\n\nThis menu will manage that for you\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/531","url":"","title":"Change Script Kit Shortcut","command":"change-script-kit-shortcut","content":"<meta path=\"kit/change-main-shortcut\">\n      \n# Change Script Kit Shortcut\n\nDon't like `cmd+;`? Change it here!\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/530","url":"","title":"Change Editor","command":"change-editor","content":"<meta path=\"kit/change-editor\">\n      \n# Change Editor\n\nThis will re-prompt you to pick an editor from your PATH by updating your kenv `.env`.\n\nYou can always manually change the editor that Script Kit uses to open files in `~/.kenv/.env`.\n\nThe following would use `code` (assuming is on the \"PATH\").\n\n```bash\nKIT_EDITOR=code\n```\n\nIf `code` isn't on your PATH, you can add the full path to the editor.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/529","url":"","title":"Add ~/.kit/bin to $PATH","command":"add-kitbin-to-dollarpath","content":"<meta path=\"kit/add-kit-to-profile\">\n      \n# Add ~/.kit/bin to $PATH\n\n> This is similar to VS Code's \"Add `code` to path\"\n\nYou can run the `kit` CLI from your terminal with\n\n```bash\n~/.kit/bin/kit\n```\n\nbut this option will allow you run the CLI with:\n\n```bash\nkit\n```\n\n> If you're familiar with adding to your `.zshrc`, just add `~/.kit/bin` to your PATH.\n\nThe `kit` CLI will allow you to run, edit, etc scripts from your terminal.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/528","url":"","title":"Add ~/.kenv/bin to $PATH","command":"add-kenvbin-to-dollarpath","content":"<meta path=\"kit/add-kenv-to-profile\">\n      \n# Add ~/.kenv/bin to $PATH\n\nEach time you create a script, Script Kit also generates a command based on the name you can run from the terminal.\n\nIf you create a script named `list-downloads`, then Script Kit creates a `~/.kenv/bin/list-downloads` executable.\n\nThen you can run the command like so in the terminal:\n\n```bash\n~/.kenv/bin/list-downloads\n```\n\nThis will walk you through running the command without the full path:\n\n```bash\nlist-downloads\n```\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/527","url":"","title":"User Input","command":"user-input","content":"<meta path=\"help/user-input\">\n      \n# User Input\n\nReceive text from a user by adding `arg` to your script:\n\n```js\nlet value = await arg()\n```\n\n`arg` will prompt the user to enter text, wait for the text, then return the value of the text to `value` and continue on with the script.\nYou can then use `value` as a string in your script however you want.\n\nIf you want to tell the user what information the prompt expects, provide a string:\n\n```js\nawait arg(\"Please enter your name\")\n```\n\nIf you want give the user options to select, provide an array as the second argument:\n\n```js\nawait arg(\"Select a fruit:\", [\"apple\", \"banana\", \"grape\"])\n```\n\n## Drag and drop\n\nPrompt the user to drag and drop a file by using the `drop` method:\n\n```js\nlet filePath = await drop()\n```\n\n## Longer Text\n\nAllow the user to input multiple lines of text using `textarea`:\n\n```js\nlet text = await textarea()\n```\n\nPre-load the `textarea` with text by passing a string:\n\n```js\nlet pleaseEditMe = `Some text I want to edit`\nlet text = await textarea(pleaseEditMe)\n```\n\n## Code Editor\n\n(üíµ In the future, using `editor` will require a paid update)\n\nLaunch a full code editor using `editor`. This is great\n\n```js\nlet text = await editor()\n```\n\nPre-load the `editor` with text and specify a language for code highlighting/features:\n\n```js\nlet text = `\n# My Markdown\n\n* one\n* two\n`\nlet text = await editor(text, \"markdown\")\n```\n\n## Keyboard Shortcut\n\n```js\nlet keyData = await hotkey()\n```\n\nIf you were to type `cmd+j`, `keyData` would give you the following response:\n\n```json\n{\n  \"key\": \"j\",\n  \"command\": true,\n  \"shift\": false,\n  \"option\": false,\n  \"control\": false,\n  \"fn\": false,\n  \"hyper\": false,\n  \"os\": false,\n  \"super\": false,\n  \"win\": false,\n  \"shortcut\": \"command j\"\n}\n```\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/526","url":"","title":"Run Shell Commands","command":"run-shell-commands","content":"<meta path=\"help/terminal-app\">\n      \n# Run Shell Commands\n\nScript Kit bundles [zx](https://github.com/google/zx) as the global `$`\n\nExample from their docs (make sure to `cd` to the proper dir)\n\n```js\nawait $`cat package.json | grep name`\n\nlet branch = await $`git branch --show-current`\nawait $`dep deploy --branch=${branch}`\n\nawait Promise.all([\n  $`sleep 1; echo 1`,\n  $`sleep 2; echo 2`,\n  $`sleep 3; echo 3`,\n])\n\nlet name = \"foo bar\"\nawait $`mkdir /tmp/${name}`\n```\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/525","url":"","title":"Store Data","command":"store-data","content":"<meta path=\"help/store-data\">\n\n# Store Data\n\n## Read/Write to a `.env` file\n\nUse `await env(\"SOME_KEY\")` to check if the value exists in the `~/.kenv/.env` file, if not, prompt the user to enter it and store it for the next time the script is run\n\n```js\nlet value = await env(\"MY_KEY\")\n```\n\n## Read/Write Data to a json file `db`\n\nThe `db` method will create a json file to store values for you in `~/.kenv/db`.\n\n```js\nlet data = await db({ values: [] })\n\nlet value = await arg(\"Type something\")\n\ndata.values.push(value)\nawait data.write()\n```\n","extension":".md"},{"shortcut":"option+g","shortcode":"g","avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/524","url":"","title":"Keyboard Shortcuts","command":"keyboard-shortcuts","content":"<meta path=\"help/shortcuts\">\n      \n# Keyboard Shortcuts\n\n## Global Shortcuts\n\nAdd a global shortcut to any script by adding the `//Shortcut: ` metadata:\n\n```js\n// Shortcut: option+g\n```\n\nIn the `Run` tab, use the script options menu `>` to change a shortcut. (Hit `cmd+k` to toggle to the options menu)\nIn the `Kit` tab, you can run `Change script shortcut` to list all script with shortcuts and change them from there.\n\n## Shortcodes\n\nIf you have a script you run often, you can also use \"shortcodes\" in the app. Add the following to the top of your script:\n\n```js\n// Shortcode: g\n```\n\nNow, when you launch the app, type `g` then hit `space` to run the script.\n\nThe main menu (`Run New Kit Help Hot`) also uses shortcodes, so typing `h` then space will switch to the `Help` tab. Or `n` then space switches to the `New` tab.\n","extension":".md"},{"schedule":"*/10 * * * * *","avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/523","url":"","title":"Schedule a Script","command":"schedule-a-script","content":"<meta path=\"help/schedule\">\n      \n# Schedule a Script\n\nUse cron syntax to run scripts on a schedule:\n\n```js\n// Schedule: */10 * * * * *\n```\n\n> Note: these scripts must not include `arg` or they will time out after 10 seconds\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/522","url":"","title":"Subscribe to the Newsletter","command":"subscribe-to-the-newsletter","content":"<meta path=\"help/join\">\n      \n# Subscribe to the Newsletter\n\n- Featured Scripts\n- Latest Updates\n- Tutorials and lessons\n- Script Kit Tips and Tricks\n- Curated dev news\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/521","url":"","title":"Get Help on Github Discussions","command":"get-help-on-github-discussions","content":"<meta path=\"help/get-help\">\n      \n# Get Help on Github Discussions\n\nThe Script Kit community lives on GitHub discussions.\n\nThis is the place to:\n\n- ü•∞ &ensp;[Share scripts](https://github.com/johnlindquist/kit/discussions/categories/share)\n- üôè &ensp;[Ask questions](https://github.com/johnlindquist/kit/discussions/categories/q-a)\n- üí° &ensp;[Discuss ideas](https://github.com/johnlindquist/kit/discussions/categories/ideas)\n- üò± &ensp;[Report errors](https://github.com/johnlindquist/kit/discussions/categories/error)\n\nOr just hit _Enter_ to browse all.\n\n> We'll do our best to respond ASAP!\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/520","url":"","title":"Reading/Writing Files","command":"readingwriting-files","content":"<meta path=\"help/files\">\n      \n# Reading/Writing Files\n\nMost of the methods from [fs/promises](https://nodejs.org/api/fs.html#promises-api) and [fs-extra](https://www.npmjs.com/package/fs-extra) are globally available\n\n## Create a File\n\n```js\n// \"home\" is a method that wraps `path.resolve` based on your home directory\nlet filePath = home(\"projects\", \"kit\", \"note.txt\")\n// writes a file to the filePath using `fs-extra's` \"outputFile\"\nawait outputFile(filePath, `Drink more water`)\n```\n\n## Select and Edit a File\n\n```js\n// \"selectFile\" uses Finder's file selector\nlet filePath = await selectFile()\nlet contents = await readFile(filePath, \"utf-8\")\n\n// Pass the text contents into the editor to quickly edit a file\nlet result = await editor(contents)\nawait writeFile(filePath, result)\n```\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/519","url":"","title":"FAQ","command":"faq","content":"<meta path=\"help/faq\">\n      \n# FAQ\n\n## What is Script Kit?\n\nScript Kit is an open-source dev tool for creating, running, editing, and sharing scripts.\n\nThese scripts can run in the Kit.app, the Terminal, GitHub actions, package.json scripts, webhooks, or pretty much anywhere.\n\n## Community of Scripters?\n\nThe main goal of Script Kit is to build a community of people who love to script away the frictions of their day! ü•∞\n\n## What are Kit.app, kit, and kenvs?\n\n- Kit.app - The Kit.app provides a UI for your scripts. The app is \"script-driven\" meaning that every time you launch the app, you're really launching a script. The main menu, even though complex, is a script you could write.\n\n- kit - \"kit\" is the sdk of Script Kit\n\n  - A bundle of JavaScript common libs wrapped by an API to make writing scripts easier (`get`, `download`, `replace`, `outputFile`, etc)\n  - APIs for interacting with your OS (`edit`, `focusTab`, `say`, `notify`, etc)\n  - APIs for interacting with Kit.app and Terminal (`arg`, `env`, etc)\n  - Scripts and utils for app setup, managing kenvs, parsing scripts, etc\n\n- kenvs - Kit Enviroments (AKA \"kenv\") are directories that contain a \"scripts\" directory. If you point \"kit\" at a \"kenv\", kit will parse the scripts and give you tools to simplify running and managing them.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/518","url":"","title":"Display Data","command":"display-data","content":"<meta path=\"help/display-data\">\n      \n## Display HTML\n\nUse the `div` method to display html.\n\n```js\nawait div(`<h1>Hi</h1>`)\n```\n\n### Add Padding\n\nThe second argument of `div` allows you to add [tailwind](https://tailwindcss.com/) classes to the container of your html. For example, `p-5` will add a `padding: 1.25rem;` to the container.\n\n```js\nawait div(`<h1>Hi</h1>`, `p-5`)\n```\n\n# Display Data\n\n## Display Markdown\n\nPass a string of markdown to the `md` method. This will convert the markdown to html which you can then pass to the `div`\n\n```js\nlet html = md(`\n# Hi\n`)\nawait div(html)\n```\n\nIf you want to highlight your markdown, pass the markdown string to the `await highlight()` method:\n\n```js\nlet html = await highlight(`\n# Hi\n`)\nawait div(html)\n```\n\n## Create a New Window\n\nUse the `show` method to spawn a new, persisting window that is disconnected from the script.\n\nMuch future work will be put into components/widgets that can run outside of the main app UI, but for now, it simply display any html you send to it:\n\n```js\nshow(`\n<div class=\"bg-black text-white h-screen p-5\">\n    Hello there!\n<div>\n\n`)\n```\n","extension":".md"},{"author":"John Lindquist","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","discussion":"https://github.com/johnlindquist/kit/discussions/517","url":"","title":"Take Credit for Your Work","command":"take-credit-for-your-work","content":"<meta path=\"help/credit\">\n      \n# Take Credit for Your Work\n\nAdd the `Author` and `Twitter` metadata to get credited in the UI and on [scriptkit.com](https://scriptkit.com) for your script:\n\n```js\n// Author: John Lindquist\n// Twitter: @johnlindquist\n```\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/516","url":"","title":"Coming Soon","command":"coming-soon","content":"<meta path=\"help/coming-soon\">\n\n# Coming Soon\n\nMore docs coming soon... üòá\nBetter formatting/styles also incoming üòÖ\nPlanning on adding \"copy snippet\" and \"create script from example\" to each of the code snippets ü§ì\n","extension":".md"},{"author":"John Lindquist","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","discussion":"https://github.com/johnlindquist/kit/discussions/515","url":"","title":"Creating Scripts","command":"creating-scripts","content":"<meta path=\"new/new\">\n      \n# Creating Scripts\n\n## Pro-tips\n\n1. The fastest way to create a script: Launch the app as you normally would, then type\n\n```bash\nnew my-script-name\n```\n\nThen hit _Enter_.\n\n2. You can use TypeScript by opening the `Kit` tab and \"Switch to TypeScript Mode\"\n\n3. The files in the `~/.kenv/templates` dir will be used when creating new scripts. You can create a template with your personal data filled out `~/.kenv/templates/john.js` then in your `.env`, set `KIT_TEMPLATE=john`\n\n```js\n// Author: John Lindquist\n// Twitter: @johnlindquist\n```\n\n## Why the Comment?\n\nCreating a new script will add this comment to the top:\n\n```js\n/** @type {import(\"@johnlindquist/kit\")} */\n```\n\nThe line is _not_ required, but this comment helps code editors to apply the correct type definition files for autocomplete/code-hinting.\n\nIf you're in `TypeScript` mode (`Kit` tab, `Switch to TypeScript mode`), it will add this import to the top:\n\n```js\nimport \"@johnlindquist/kit\"\n```\n\nAgain, this line isn't required, but code editors using TypeScript will complain about `top-level await` if you don't include at least one import. This also helps the same way as the comment described above.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/514","url":"","title":"Create a Script from a Gist","command":"create-a-script-from-a-gist","content":"<meta path=\"new/new-from-url\">\n      \n# Create a Script from a Gist\n\nIn the `Run` tab, with a script selected, hit `cmd+g` (think \"g\" for \"gist\").\n\nThis will create a gist then copy gist's url to the clipboard.\n\nYou can share this url with a friend, then they can copy/paste it into this `New from url` command to quickly grab it.\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/513","url":"","title":"Get Featured","command":"get-featured","content":"<meta path=\"new/browse-examples\">\n      \n# Get Featured\n\nSimply share your script to Script Kit's [GitHub Discussions](https://github.com/johnlindquist/kit/discussions/categories/share) in the \"share\" category and it will automatically (after a review period) get added to [scriptkit.com](https://scriptkit.com)\n\nYou'll even have a user page based on your GitHub user name: [scriptkit.com/johnlindquist](https://scriptkit.com/johnlindquist)\n\n## Prep a Script for Discussion\n\nWith a script selected, hit `cmd+s` (think \"s\" for \"share\"). This automatically:\n\n- Creates a gist of your script\n- Creates the install link\n- Copies the script and link to your clipboard\n- Opens the discussions page\n\nSo all you have to do is \"paste\"!\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/512","url":"","title":"I posted this from Script Kit üòâ","command":"i-posted-this-from-script-kit","content":"Testing üòá","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/509","url":"","title":"Coming Soon","command":"coming-soon","content":"<meta path=\"help/coming-soon\">\r\n\r\n- More docs coming soon... üòá\r\n- Better formatting/styles also incoming üòÖ\r\n- Planning on adding \"copy snippet\" and \"create script from example\" to each of the code snippets ü§ì\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/1199820?u=a2e3f24387d6e30366decffce6da24bc8d7e600e&v=4","user":"AlanBreck","author":"Jacob Lamont","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/507","url":"","title":"Open project is a system command","command":"open-project-is-a-system-command","content":"I'm attempting to create a script called `Open project`, but being told that it's a system command. I'm not aware of this command existing. Where would this command be coming from?\r\n\r\n![Screen Shot 2021-11-05 at 10 03 37 AM](https://user-images.githubusercontent.com/1199820/140522905-2ce129da-b1cc-46a6-b3ee-0634bf4937ab.png)\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/1199820?u=a2e3f24387d6e30366decffce6da24bc8d7e600e&v=4","user":"AlanBreck","author":"Jacob Lamont","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/506","url":"","title":"`kit` not defined in original scripts like `Convert Colors`","command":"kit-not-defined-in-original-scripts-like-convert-colors","content":"I'm using `v1.3.0-beta.66`\r\n\r\n<img width=\"339\" alt=\"Screen Shot 2021-11-04 at 10 06 16 PM\" src=\"https://user-images.githubusercontent.com/1199820/140446230-bc69de39-c200-4e10-902a-ed76266c1d65.png\">\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/7276289?v=4","user":"kenNash","author":"kenNash","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/503","url":"","title":"What center-app is expected to do, exactly?","command":"what-center-app-is-expected-to-do-exactly","content":"Hi everyone!\r\n\r\nI'm new here, so please forgive my sillinesses‚Ä¶\r\n\r\nI'm trying the center-app script, but it does nothing for me. I don't even know what to expect, exactly. What does \"centering an app\" mean? Centering the frontmost window? All of the app windows?\r\n\r\nI'd like to have scripts for moving/resizing the frontmost window in different places/positions. But so far I can't figure out‚Ä¶\r\nhow‚Ä¶\r\n\r\nAny help would be very much appreciated.\r\n\r\n--\r\nkenNash","extension":".md"},{"menu":"Change Wallpaper","description":"change your background wallpaper by selecting from a configured folder.","author":"David Losert","twitter":"david_losert","avatar":"https://avatars.githubusercontent.com/u/4287128?u=70e8d6e39f4addac43ee9849c8d9c150363e460e&v=4","user":"davelosert","discussion":"https://github.com/johnlindquist/kit/discussions/501","url":"","title":"Change Wallpaper","command":"change-wallpaper","content":"Here is a little script I wrote to easily change the background-wallpaper. \r\n\r\nI use this as I have to set a certain wallpaper before doing webinars or screencasts for my clients.\r\n\r\n```typescript\r\n// Menu: Change Wallpaper\r\n// Description: change your background wallpaper by selecting from a configured folder.\r\n// Author: David Losert\r\n// Twitter: @david_losert\r\n\r\nimport \"@johnlindquist/kit\"\r\n\r\n// Set to the folder where you keep all your wallpapers for easy selection\r\nconst wallpapersPath = await env('WALLPAPER_PATH');\r\n\r\nconst availableWallpapers = ls(wallpapersPath);\r\nconst selectedWallpaper = await arg('select', availableWallpapers);\r\nconst wallpaperFilePath = path.join(wallpapersPath, selectedWallpaper);\r\n\r\nawait applescript(`tell application \"Finder\" to set desktop picture to POSIX file \"${wallpaperFilePath}\"`);\r\n```","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/967145?u=a0c390fc6689da83a5fb10aa017ed9f58466673a&v=4","user":"brandonpittman","author":"Brandon Pittman","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/500","url":"","title":"How does updating Kit work?","command":"how-does-updating-kit-work","content":"In the _Kit_ tab, there's an update option:\r\n<img width=\"323\" alt=\"CleanShot 2021-11-01 at 11 08 38@2x\" src=\"https://user-images.githubusercontent.com/967145/139611888-e105ebd3-ffd5-4b80-8498-e600fff5d1f9.png\">\r\n\r\n Select that:\r\n<img width=\"371\" alt=\"CleanShot 2021-11-01 at 11 08 58@2x\" src=\"https://user-images.githubusercontent.com/967145/139611909-72ec10ef-3d6e-4c60-9bab-050b29302a31.png\">\r\n\r\n**What is happening here?**\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/13821327?v=4","user":"cfritze64","author":"Christian Fritze","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/499","url":"","title":"unsure about interaction between exec() and shortcuts","command":"unsure-about-interaction-between-exec-and-shortcuts","content":"John and community:\r\n\r\nI have some automations in Apple's Shortcuts app, especially now what it's available in Monterey on MacOS.  I'm building a little script that is a front-end picker for running Shortcuts or opening them for editing in the Shortcuts app. I've hit a snag. Eventually in my script, I'm trying a line like\r\n```\r\nexec(`shortcuts run \"${aShortcutsName}\"`)\r\n```\r\n\r\nThat fails. It works if I use the terminal function instead of exec, but that pops up a stray  terminal window that I don't need.  So am I misunderstanding the exec function (I'm a programming tyro), or is there an interaction happening between the shortcuts terminal command (probably new in Monterey) and the scriptkit shortcut global?\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/900523?u=ab7e35b384354f771ecd6d683d12dade83d221dd&v=4","user":"JamesHenry","author":"James Henry","twitter":"MrJamesHenry","discussion":"https://github.com/johnlindquist/kit/discussions/497","url":"","title":"Please offer a way to hide the menu bar icon","command":"please-offer-a-way-to-hide-the-menu-bar-icon","content":"Hey @johnlindquist,\r\n\r\nI'm fortunate to be one of the lucky folks setting up their new 2021 MacBook Pro, and have a related feature request.\r\n\r\nNow that this model has the notch with the menu bar wrapping around it, menu bar real estate is at an all-time premium. I, like I'm sure many do, exclusively use the keyboard shortcut to trigger the Kit prompt, so the current menu bar icon offers no value to me and I would love to be able to free up that precious space for other things.\r\n\r\nFurther data point: from what I can see Script Kit is currently the only app I have installed that does not offer a way to hide its menu bar icon, so _hopefully_ it's relatively straightforward to support in a similar way.\r\n\r\nKind regards,\r\n\r\nJames","extension":".md"},{"menu":"Say Hello World Shortcut","description":"Trigger macOS Monterey Shortcut from Script Kit","author":"James Henry","twitter":"MrJamesHenry","avatar":"https://avatars.githubusercontent.com/u/900523?u=ab7e35b384354f771ecd6d683d12dade83d221dd&v=4","user":"JamesHenry","discussion":"https://github.com/johnlindquist/kit/discussions/496","url":"https://gist.githubusercontent.com/JamesHenry/75292ec21a02dcb8918a96c018d47a37/raw/77182d0c994698de037c5b12cc6bc5b30949c0d6/macos-monterey-shortcuts-example.js","title":"üî• Automation Overload - Example of running macOS Monterey Shortcuts via Script Kit","command":"automation-overload-example-of-running-macos-monterey-shortcuts-via-script-kit","content":"\r\n[Install macos-monterey-shortcuts-example](https://scriptkit.com/api/new?name=macos-monterey-shortcuts-example&url=https://gist.githubusercontent.com/JamesHenry/75292ec21a02dcb8918a96c018d47a37/raw/77182d0c994698de037c5b12cc6bc5b30949c0d6/macos-monterey-shortcuts-example.js\")\r\n\r\n```js\r\n/** @type {import(\"@johnlindquist/kit\")} */\r\n\r\n// Menu: Say Hello World Shortcut\r\n// Description: Trigger macOS Monterey Shortcut from Script Kit\r\n// Author: James Henry\r\n// Twitter: @MrJamesHenry\r\n\r\n/**\r\n * I have created a Shortcut on my Mac running macOS Monterey called\r\n * \"Say Hello World\".\r\n *\r\n * There are a couple of options available when it comes to invoking\r\n * it programmatically (whether via Script Kit or in general).\r\n */\r\n\r\n/**\r\n * OPTION 1:\r\n *\r\n * You can use the `shortcuts` CLI that is preinstalled on macOS\r\n * Monterey to run named Shortcuts.\r\n */\r\nawait $`shortcuts run \"Say Hello World\"`;\r\n\r\n/**\r\n * OPTION 2:\r\n *\r\n * You can use AppleScript to communicate with the \"Shortcuts\"\r\n * application on macOS Monterey to run named Shortcuts.\r\n *\r\n * NOTE: I first tried to communicate with \"Shortcuts Events\" per this\r\n * video from WWDC 2021, but it does not work:\r\n * https://developer.apple.com/videos/play/wwdc2021/10232/?time=1539\r\n */\r\nawait applescript(`\r\n  tell application \"Shortcuts\"\r\n    run the shortcut named \"Say Hello World\"\r\n  end tell\r\n`);\r\n\r\n```\r\n","extension":".md"},{"shortcut":"control alt c","avatar":"https://avatars.githubusercontent.com/u/13821327?v=4","user":"cfritze64","author":"Christian Fritze","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/495","url":"","title":"Sizing display panel properly","command":"sizing-display-panel-properly","content":"Hi John:\r\n\r\nI‚Äôve got a script I use to query a CRM app via its API to retrieve contact information and display the info in immediately useable form + show me a headshot if it‚Äôs in the database. When I run this, the app doesn‚Äôt size its window to fully show the results. The panel cuts off half the intended display; I can resize the app‚Äôs window to reveal all, but would like not to have to do that. I think the height of the scriptkit app window is being determined by the number of hits returned rather than the size of the preview panel, could that be? I‚Äôm hacky at CSS, so would benefit from some advice: do I try to change things in the await arg call at the top of found(), or try to modify the html that I pass to the panel?  Thx\r\n\r\n- Christian\r\n\r\n```js\r\n// Shortcut: control alt c\r\n// query CiviCRM v3 api with surname to browse/copy contact info\r\n\r\n//can add other search terms in raw format if you start with \"\" to indicate blank last_name field\r\n\r\nconst BASE_URL = await env('CIVI_BASE_URL');\r\nconst CIVI_API = await env('CIVI_API_KEY');\r\nconst CIVI_SECRET = await env('CIVI_API_SECRET');\r\n\r\n\r\nlet theQuery = await arg('Search for last name in CiviCRM:');\r\n\r\nlet found = await arg(`records with last name ${theQuery}`,\r\n\r\n//function to construct an array of responses\r\nasync () => {\r\n  var theText = [];\r\n  const url = `${BASE_URL}?entity=Contact&action=get&api_key=${CIVI_API}&key=${CIVI_SECRET}&sequential=1&return=display_name,street_address,city,postal_code,email,phone,custom_7,image_URL&json=1&last_name=${theQuery}`;\r\n  let response = await get(url);\r\n  const theData = response.data.values;\r\n\r\n theText = theData.map((person,index) => {\r\n\r\n   //deconstrut the object\r\n   let {display_name, street_address, city, postal_code, phone, email, image_URL, custom_7 } = person;\r\n\r\n    //strip parens from phone number\r\n    const subst = `$1`;\r\n    const regex = /\\((\\d{3})\\)/gm;\r\n    const regex2 = / /gm;\r\n    const subst2 = `-`;\r\n    const newphone = phone.replace(regex, subst).replace(regex2,subst2);\r\n\r\n    //return formatted for scriptkit display panel\r\n    return {\r\n      name: `${index+1}. ${display_name}`,\r\n      value: `${display_name}\\n${street_address}\\n${city} ${postal_code}\\n${newphone}\\n${email}\\n${custom_7.toLowerCase()}`,\r\n      description: `${street_address} ${city} ${postal_code}`,\r\n      preview: `<img width = \"125\" src =\"${image_URL}\"></br><a href=\"tel://${newphone}\">${newphone}</a></br><a href=\"mailto:${email}\">${email}</a></br>${custom_7.toLowerCase()}`\r\n    }\r\n\r\n  }); // end map\r\n\r\nreturn(theText)\r\n\r\n}) // end function\r\n\r\ncopy(found); // can copy data from the panel, or this command copies the whole of the selected entry\r\n```\r\n\r\n","extension":".md"},{"menu":"Currency Converter using google","author":"Jakub Olek","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","discussion":"https://github.com/johnlindquist/kit/discussions/494","url":"https://gist.githubusercontent.com/hakubo/d4822cfc6e42d7dead70d4da73bfded9/raw/97afb98be93518b2550448e5b81d425b79642ed2/currency-converter.js","title":"Currency Converter using Google :)","command":"currency-converter-using-google","content":"Since most of currency converters are paid APIs - why not just use google for this task :)\r\n\r\nhttps://user-images.githubusercontent.com/1018759/138569135-4b682b44-8b8b-4e9b-bd30-64c180bd1d5f.mp4\r\n\r\n\r\n[Install currency-converter](https://scriptkit.com/api/new?name=currency-converter&url=https://gist.githubusercontent.com/hakubo/d4822cfc6e42d7dead70d4da73bfded9/raw/97afb98be93518b2550448e5b81d425b79642ed2/currency-converter.js\")\r\n\r\n```js\r\n// Menu: Currency Converter using google\r\n// Author: Jakub Olek\r\n// Twitter: @JakubOlek\r\n\r\n/** @type {import(\"@johnlindquist/kit\")} */\r\n\r\nconst from = await arg(\"from\", [\"pln\", \"usd\", \"eur\"]);\r\nconst to = await arg(\"to\", [\"usd\", \"pln\", \"eur\"]);\r\nconst query = await arg(\"amount\");\r\nconst value = await scrapeSelector(\r\n  `https://google.com/search?q=${encodeURIComponent(\r\n    query + \" \" + from + \" \" + to\r\n  )}`,\r\n  \"span[data-value]\"\r\n);\r\n\r\ndiv(query + \" \" + from + \" = \" + value + \" \" + to, \"p-4\");\r\n\r\n```\r\n","extension":".md"},{"background":"auto","avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","author":"Jakub Olek","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/493","url":"","title":"Background script steals divs/notifications","command":"background-script-steals-divsnotifications","content":"I tried to create a simple script to time when I sit/stand during work. But unfortunately it appears it's not easyto show UI from background script in a way that do not interfere with main app. When I use 'notify' - it appears to close the script as well\r\n\r\n\r\nhttps://user-images.githubusercontent.com/1018759/138547233-9ff660c7-1b08-4a69-8f0f-6c2e86807253.mp4\r\n\r\n\r\n\r\nExample script: \r\n\r\n```js\r\n// Background: auto\r\n\r\n/** @type {import(\"@johnlindquist/kit\")} */\r\nconst sitFor = 3000;\r\nconst standFor = 3000;\r\n\r\nfunction startStand() {\r\n  setTimeout(() => {\r\n    div(\"time to sit!\");\r\n\r\n    startSit();\r\n  }, standFor);\r\n}\r\n\r\nfunction startSit() {\r\n  setTimeout(() => {\r\n    div(\"time to stand!\");\r\n\r\n    startStand();\r\n  }, sitFor);\r\n}\r\n\r\nstartSit();\r\n\r\n```","extension":".md"},{"menu":"JA ‚Üí EN","description":"Translate selected text into with Google Translate.","author":"Brandon Pittman","shortcut":"ctrl j","avatar":"https://avatars.githubusercontent.com/u/967145?u=a0c390fc6689da83a5fb10aa017ed9f58466673a&v=4","user":"brandonpittman","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/491","url":"","title":"Quick Google Translate","command":"quick-google-translate","content":"I whipped up a quick action to take some selected text and open Google Translate with it. Swap out the source, `sl`, and target, `tl`, with your most commonly used languages.\r\n\r\n[Install script](https://scriptkit.com/api/new?name=quick-translate&url=https://gist.githubusercontent.com/brandonpittman/18791a65c6721f822473b2f1900cfb50/raw/52b9db763ed4ab31139994611aaa57a0b871e46a/google-translate.ts)\r\n\r\n```ts\r\n// Menu: JA ‚Üí EN\r\n// Description: Translate selected text into with Google Translate.\r\n// Author: Brandon Pittman\r\n// Shortcut: ctrl j\r\n\r\nimport \"@johnlindquist/kit\";\r\n\r\nconst origin = \"https://translate.google.com\";\r\nconst text = await getSelectedText();\r\nconst sl = \"ja\";\r\nconst tl = \"en\";\r\nconst op = \"translate\";\r\n\r\nconst url = encodeURI(`${origin}/?sl=${sl}&tl=${tl}&text=${text}&op=${op}`);\r\n\r\nexec(`open \"${url}\"`, { encoding: \"utf8\" });\r\n```","extension":".md"},{"menu":"RCKIK mobile","description":"Show filtered plan of mobile RCKIK busses","author":"Jakub Olek","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","discussion":"https://github.com/johnlindquist/kit/discussions/490","url":"https://gist.githubusercontent.com/hakubo/947f4d98c74acaa041cb9944039e4479/raw/90a0ea842b9341e8592dd30dc5a8c1a29c91212f/rckik.js","title":"RCKIK mobile busses","command":"rckik-mobile-busses","content":"This is for Pozna≈Ñ, Poland only. Data taken from https://www.rckik.poznan.pl/najblizsze-wyjazdy\r\n\r\nIt'll show a list of next places where you can find a bus in which you can donate a blood in Pozna≈Ñ - filtered by given text so you can narrow list to locations closest to you.\r\n\r\nThis is WIP - I'll try to optimize it and maybe make the list easier to read.\r\n\r\n\r\n![Screenshot 2021-10-19 at 11 39 17](https://user-images.githubusercontent.com/1018759/137884912-27795174-e583-4c32-beed-14ea806b125a.png)\r\n\r\n\r\n[Install rckik](https://scriptkit.com/api/new?name=rckik&url=https://gist.githubusercontent.com/hakubo/947f4d98c74acaa041cb9944039e4479/raw/90a0ea842b9341e8592dd30dc5a8c1a29c91212f/rckik.js\")\r\n\r\n```js\r\n// Menu: RCKIK mobile\r\n// Description: Show filtered plan of mobile RCKIK busses\r\n// Author: Jakub Olek\r\n// Twitter: @JakubOlek\r\n\r\n/** @type {import(\"@johnlindquist/kit\")} */\r\n\r\nfunction transform(node) {\r\n  // Edit that to filter locations that you're interested in\r\n  // has to be inside transform function - as it's being serialized and passed to browser\r\n  const filter = \"Pozna≈Ñ\";\r\n  const columns = [...node.querySelectorAll(\"td\")];\r\n\r\n  if (columns[3].innerHTML.startsWith(filter)) {\r\n    return (\r\n      columns[0].querySelector(\"a\").innerHTML +\r\n      \" \" +\r\n      columns[3].innerHTML +\r\n      \" \" +\r\n      columns[2].innerHTML\r\n    );\r\n  }\r\n}\r\n\r\nconst pagination = await scrapeSelector(\r\n  \"https://www.rckik.poznan.pl/najblizsze-wyjazdy?page=1\",\r\n  \".pagination li\"\r\n);\r\n\r\nconst numberOfPages = pagination.length;\r\nlet t = [];\r\n\r\nfor (let i = 1; i <= numberOfPages; i += 1) {\r\n  const result = await scrapeSelector(\r\n    `https://www.rckik.poznan.pl/najblizsze-wyjazdy?page=${i}`,\r\n    \"#calendarTable tr:not(.header):not(.canceled)\",\r\n    transform\r\n  );\r\n\r\n  t = t.concat(result);\r\n}\r\n\r\ndiv(\r\n  `<ul>${t\r\n    .filter(Boolean)\r\n    .map((date) => `<li>${date}</li>`)\r\n    .join(\"\")}</ul>`,\r\n  \"p-4\"\r\n);\r\n\r\n```\r\n","extension":".md"},{"menu":"Weather by yr.no","author":"Jakub Olek","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","discussion":"https://github.com/johnlindquist/kit/discussions/489","url":"https://gist.githubusercontent.com/hakubo/1fc8e04a0ab26a251c6e5113ae8e85ed/raw/ae24bf7daeea3127d9be6bd0a7cd48949921e743/weather.js","title":"Weather by yr.no","command":"weather-by-yrno","content":"Very simple weather forecast (as pdf ü§£  ) from yr.no bit manual to setup but should be simple an quick.\r\n\r\n![image](https://user-images.githubusercontent.com/1018759/137885137-d2e26e62-668c-4949-a389-b98b7425601c.png)\r\n\r\n[Install weather](https://scriptkit.com/api/new?name=weather&url=https://gist.githubusercontent.com/hakubo/1fc8e04a0ab26a251c6e5113ae8e85ed/raw/ae24bf7daeea3127d9be6bd0a7cd48949921e743/weather.js\")\r\n\r\n```js\r\n// Menu: Weather by yr.no\r\n// Author: Jakub Olek\r\n// Twitter: @JakubOlek\r\n\r\n/** @type {import(\"@johnlindquist/kit\")} */\r\n\r\n/**\r\n * 1. Open https://www.yr.no/\r\n * 2. Find your location\r\n * 3. Copy what comes AFTER https://www.yr.no/en/forecast/daily-table/ to location const\r\n */\r\n\r\nconst location = \"5-1233000/Poland/Poznan\";\r\n\r\ndiv(\r\n  `<iframe src=\"https://www.yr.no/en/print/forecast/${location}#toolbar=0\" height=800 width=600/>`,\r\n  \"p-2\"\r\n);\r\n\r\n```\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/488","url":"","title":"Script Kit online on Stackblitz ‚ö°Ô∏è","command":"script-kit-online-on-stackblitz","content":"I spent last week getting Script Kit running \"in browser\" to emulate the terminal experience over on Stackblitz. Here's a quick demo:\r\n\r\nhttps://stackblitz.com/edit/node-rnrhra?file=scripts%2Frepos-to-markdown.js\r\n\r\nThe plan is to use this to host interactive demos for the guide/docs. I'd appreciate if you could play around with it a bit and see if I missed anything.\r\n\r\n","extension":".md"},{"shortcode":"asos","menu":"search-asos","description":"Search ASOS","author":"Vasilis Kortsimelidis","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/4882345?u=b84755144b8f4f75f19a42c33667dcc66819f7de&v=4","user":"vaskort","discussion":"https://github.com/johnlindquist/kit/discussions/485","url":"https://gist.githubusercontent.com/vaskort/2c7dcba1649783d51d1df2cb860ab2dd/raw/988c94b6eba344a61d9b9a0ee51c7b7e70870a07/search-asos.js","title":"Search ASOS","command":"search-asos","content":"It will search at ASOS.com\r\n\r\n[Install search-asos](https://scriptkit.com/api/new?name=search-asos&url=https://gist.githubusercontent.com/vaskort/2c7dcba1649783d51d1df2cb860ab2dd/raw/988c94b6eba344a61d9b9a0ee51c7b7e70870a07/search-asos.js)\r\n\r\n```js\r\n// Shortcode: asos\r\n// Menu: search-asos\r\n// Description: Search ASOS\r\n// Author: Vasilis Kortsimelidis\r\n// Twitter: @vas_kort\r\n\r\nlet searchTerm = await arg(\"ASOS term to search for:\")\r\nlet termWithEncodedSpaces = searchTerm.replace(/ /g, \"%20\");\r\n\r\nexec(`open https://www.asos.com/search/?q=${termWithEncodedSpaces}`)\r\n```","extension":".md"},{"menu":"Record Screen","description":"Start QuickTime player and open screen recorder","author":"Jakub Olek","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","discussion":"https://github.com/johnlindquist/kit/discussions/483","url":"https://gist.githubusercontent.com/hakubo/e3c8698169fede4baad7d9d938c37a25/raw/b8bba52ed97317eb7c8ced279d48765a04214d9e/record-screen.js","title":"Record screen","command":"record-screen","content":"This script just opens Quick Time Player and turns on recording of part of your screen.\r\n\r\nIt has a dependency on another script by @johnlindquist app-launcher: https://www.scriptkit.com/johnlindquist/app-launcher\r\n\r\n\r\n[Install record-screen](https://scriptkit.com/api/new?name=record-screen&url=https://gist.githubusercontent.com/hakubo/e3c8698169fede4baad7d9d938c37a25/raw/b8bba52ed97317eb7c8ced279d48765a04214d9e/record-screen.js\")\r\n\r\n```js\r\n// Menu: Record Screen\r\n// Description: Start QuickTime player and open screen recorder\r\n// Author: Jakub Olek\r\n// Twitter: @JakubOlek\r\n\r\nawait run(\"app-launcher\", \"QuickTime Player\");\r\nawait keystroke(\"command control n\");\r\n\r\n```\r\n","extension":".md"},{"menu":"Ping","description":"Ping destination and show line graph of latest values","author":"Jakub Olek","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","discussion":"https://github.com/johnlindquist/kit/discussions/482","url":"https://gist.githubusercontent.com/hakubo/f499d770a72aeb944350c075e722701c/raw/c04fd12e149004bc23803458888bf87dfb4807c2/ping.js","title":"Ping","command":"ping","content":"Run ping to a destination and draw a chart of latest entries.\r\n\r\n\r\nhttps://user-images.githubusercontent.com/1018759/136839677-7bdf6871-8742-4480-a8e1-54f064e6cc50.mp4\r\n\r\n\r\n\r\n[Install ping](https://scriptkit.com/api/new?name=ping&url=https://gist.githubusercontent.com/hakubo/f499d770a72aeb944350c075e722701c/raw/c04fd12e149004bc23803458888bf87dfb4807c2/ping.js\")\r\n\r\n```js\r\n// Menu: Ping\r\n// Description: Ping destination and show line graph of latest values\r\n// Author: Jakub Olek\r\n// Twitter: @JakubOlek\r\n\r\nconst jsdom = await npm(\"jsdom\");\r\nawait npm(\"canvas\");\r\nconst Chart = await npm(\"chart.js\");\r\n\r\nconst { JSDOM } = jsdom;\r\n\r\n// Edit the list to suit your needs\r\nconst destination = await arg(\"ping\", [\"8.8.8.8\", \"google.com\"]);\r\n\r\n// How many entries should the chart show\r\nconst entries = 20;\r\n\r\nconst command = `ping ${destination}`;\r\nconst child = exec(command, { async: true });\r\n\r\nconst dom = new JSDOM(\r\n  `<!DOCTYPE html><canvas id=\"bar-chart\" width=\"800\" height=\"450\"></canvas>`\r\n);\r\n\r\nglobal.window = dom.window;\r\n\r\nChart.defaults.color = \"white\";\r\nChart.defaults.font = { size: 24, weight: \"bold\" };\r\n\r\nconst labels = new Array(entries)\r\n  .fill()\r\n  .map((_, i) => i)\r\n  .reverse();\r\n\r\nlet output = [];\r\nconst chartData = {\r\n  labels: labels,\r\n  datasets: [\r\n    {\r\n      label: `${command}: - ms`,\r\n      backgroundColor: \"rgb(255, 99, 132)\",\r\n      borderColor: \"rgb(255, 99, 132)\",\r\n      data: output,\r\n    },\r\n  ],\r\n};\r\n\r\nconst chart = new Chart(dom.window.document.getElementById(\"bar-chart\"), {\r\n  type: \"line\",\r\n  data: chartData,\r\n  options: {\r\n    animation: false,\r\n    tooltips: { enabled: false },\r\n    hover: { mode: null },\r\n  },\r\n});\r\n\r\nlet firstLine = true;\r\n\r\nchild.stdout.on(\"data\", function (data) {\r\n  if (!firstLine) {\r\n    const value = +data.replace(/.*time=(.*)ms/, \"$1\");\r\n    output.push(value);\r\n\r\n    if (output.length > entries) {\r\n      output = output.slice(1);\r\n    }\r\n\r\n    chartData.datasets[0].label = `${command}: ${value}ms`;\r\n    chartData.datasets[0].data = output;\r\n    chart.update();\r\n\r\n    div(`<img src=\"${chart.toBase64Image(\"image/jpeg\", 1)}\"/>`, \"p-4\");\r\n  } else {\r\n    firstLine = false;\r\n  }\r\n});\r\n\r\n```\r\n","extension":".md"},{"menu":"Open Jira ticket in browser","description":"Parses a valid ticket number from selection and opens it in browser","author":"Jakub Olek","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","discussion":"https://github.com/johnlindquist/kit/discussions/481","url":"https://gist.githubusercontent.com/hakubo/f73e67370a52d48ebc28bfbb09114a6a/raw/3d9b16915e3b968cbd899f885fbe58b9540b28fb/open-jira-ticket.js","title":"Open Jira ticket","command":"open-jira-ticket","content":"The script parses selections to find valid JIRA ticket and when found - opens it in browser\r\n\r\n\r\n[Install open-jira-ticket](https://scriptkit.com/api/new?name=open-jira-ticket&url=https://gist.githubusercontent.com/hakubo/f73e67370a52d48ebc28bfbb09114a6a/raw/3d9b16915e3b968cbd899f885fbe58b9540b28fb/open-jira-ticket.js\")\r\n\r\n```js\r\n// Menu: Open Jira ticket in browser\r\n// Description: Parses a valid ticket number from selection and opens it in browser\r\n// Author: Jakub Olek\r\n// Twitter: @JakubOlek\r\n\r\nconst jiraDomain = await env(\"JIRA_DOMAIN\");\r\nconst text = await getSelectedText();\r\nconst jiraTicket = text.match(/([A-Z]{2,5}-[0-9]+)/);\r\n\r\nif (jiraTicket) {\r\n  focusTab(`${jiraDomain}/browse/${jiraTicket[0]}`);\r\n}\r\n\r\n```\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/701638?u=3a62bbd8881a41e35876c33bcf122114d02d8415&v=4","user":"shuma","author":"Usman Rajab","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/471","url":"","title":"Getting no output","command":"getting-no-output","content":"I am using an npm package to create a payment request and I want the `wizardSessionKey` to output in the scriptkit window but I get nothing. Here is my script:\r\n\r\n```\r\n/** @type {import(\"@johnlindquist/kit\")} */\r\nimport { XS2A } from \"@fintecsystems/xs2a-node\";\r\n\r\nconst xs2a = new XS2A(\"<API_KEY>\");\r\ntry {\r\n  const paySession = await xs2a.Pay.create({\r\n    amount: 35,\r\n    currency_id: \"EUR\",\r\n    purpose: \"Order No. 123456\",\r\n    recipient_iban: \"DE04888888880087654321\",\r\n    recipient_holder: \"MyCompany Inc.\",\r\n  });\r\n\r\n  const wizardSessionKey = paySession.wizard_session_key;\r\n  setPanel(wizardSessionKey);\r\n\r\n} catch (error) {\r\n  setPanel(error)\r\n  console.log(error.status, error.message);\r\n}\r\n```\r\nWhat am I am doing wrong? ü§î ","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/450983?v=4","user":"axodys","author":"Jason Gilman","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/469","url":"","title":"Create a repo of scripts","command":"create-a-repo-of-scripts","content":"I wanted to try creating a new .kenv to hold the scripts that I would like to sync between the different macs I use, but it doesn't look like that functionality is fully working right now. I think the original script to create a new .kenv was under the Help menu based on at least one video I found, but it looks like at some point it was moved under the Kit tab and renamed. If I go under \"Kit > Create a repo of scripts\" I'm able to choose a name and it shows what the path of the new .kenv will be, but hitting the return key is ignored and the field remains editable so a new .kenv is never created. I'm using version (1.30-beta.64) at the moment and have seen this behavior on all my macs. Am I doing something wrong or is there a bug here?","extension":".md"},{"menu":"Mouse Mover","description":"Moves your mouse so you don't go inactive in Slack or Microsoft Teams","author":"Benjamin Modayil","twitter":"24props","avatar":"https://avatars.githubusercontent.com/u/12306850?u=51152dab74c9158efeb6a84a65acf2464cf84218&v=4","user":"benjaminmodayil","discussion":"https://github.com/johnlindquist/kit/discussions/467","url":"","title":"Mouse Mover (Python Script + ScriptKit)","command":"mouse-mover-python-script-scriptkit","content":"üòÖ This one is more of a Python script, but I use ScriptKit to launch it. There are moments where I have to leave my computer to address something in another room or need more time than the allotted 10 minutes that Slack provides before it makes it look like I'm unavailable. For the most part, even if I'm in another room, I am still available for conversation/inquiries, so I don't want my coworkers to think I can't be bothered if my status looks like I'm away, but in reality I just might be eating/cooking. So this keeps my computer + work messaging app status in the green so it doesn't look like I'm unavailable.\r\n\r\nThe Python script requires `pyautogui` and `time` modules. I'm not the best for Python troubleshooting as I just learned some Python through YouTube tutorials. All I remember from when I wrote this was that it was a pain to get my computer using the latest version of Python.\r\n\r\nFrom the Python script below, `pyautogui` lets you __exit the script from taking control of your mouse by running `ctrl + c` or moving your mouse to the top right corner of your screen__. Because you can't run `ctrl + c` into a non-existent terminal when using it through ScriptKit, you need to move your mouse to the top right corner of your monitor to exit. \r\n\r\n**Note:** Before connecting/disconnecting external displays while the script is active, you must exit the script first, otherwise you'll have to reconnect/disconnect your displays to the condition of your computer when you started the script to exit.\r\n\r\nYou'll have to squint to see the mouse once the script starts + I only run it for three seconds before closing... Sorry about that.\r\n\r\nhttps://user-images.githubusercontent.com/12306850/135878354-7ab7e798-c63d-4a5e-8ee8-78e938d66b9a.mp4\r\n\r\n```python\r\n\r\n#! /usr/bin/env python3\r\nimport pyautogui\r\nimport time\r\n\r\nwhile True:\r\n    pyautogui.moveRel(0, 50, duration=1.5)\r\n    time.sleep(1)\r\n    pyautogui.moveRel(0, -50, duration=1.5)\r\n    time.sleep(1)\r\n    pyautogui.moveRel(50, 0, duration=1.5)\r\n    time.sleep(1)\r\n    pyautogui.moveRel(-50, 0, duration=1.5)\r\n    time.sleep(1)\r\n\r\n# You can remove a bunch of the repetition above. I just like seeing the mouse move a lot to know it's working.\r\n\r\n```\r\n\r\nHere's the ScriptKit launcher. This will vary depending on your Python path + Python script path.\r\n\r\n```js\r\n// Menu: Mouse Mover\r\n// Description: Moves your mouse so you don't go inactive in Slack or Microsoft Teams\r\n// Author: Benjamin Modayil\r\n// Twitter: @24props\r\n\r\nawait exec(`/PATH-TO-PYTHON-EXECUTABLE/python3.9 /PATH-TO-SCRIPT/i-am-here.py`)\r\n```","extension":".md"},{"author":"John Lindquist","twitter":null,"description":"Displays Image Info of Selected File","avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","discussion":"https://github.com/johnlindquist/kit/discussions/466","url":"","title":"Image Info from Finder","command":"image-info-from-finder","content":"![CleanShot 2021-09-30 at 12 28 58](https://user-images.githubusercontent.com/36073/135510901-7559fcd9-f8e3-4875-be16-f70057efdb26.png)\r\n\r\n\r\n[Install image-info](https://scriptkit.com/api/new?name=image-info&url=https://gist.githubusercontent.com/johnlindquist/3bffee49a8128b0ebf8be12d47dce93a/raw/4b08de2b5cafc79f4244cafe6bd946e660224a61/image-info.ts\")\r\n\r\n```js\r\n// Author: John Lindquist\r\n// Twitter: @johnlindquist\r\n// Description: Displays Image Info of Selected File\r\n\r\nimport \"@johnlindquist/kit\"\r\n\r\nlet sharp = await npm(\"sharp\")\r\n\r\nlet metadata = await sharp(\r\n  await getSelectedFile()\r\n).metadata()\r\n\r\nawait div(\r\n  md(`\r\n~~~json\r\n${JSON.stringify(metadata, null, \"\\t\")}\r\n~~~\r\n`)\r\n)\r\n\r\n```\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/450983?v=4","user":"axodys","author":"Jason Gilman","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/462","url":"","title":"Script Output Options","command":"script-output-options","content":"I stumbled upon ScriptKit yesterday while looking into options for writing shell scripts in javascript and it's really cool, but I have a couple questions about how output is handled. My first script attempt uses `exec()` to get a random quote from `fortune` and put it into a text string.  I figured out how to display the resulting text via the `div()` function, but wanted  to display it as ~80 character wide monospaced text. I wrapped the output in `<pre>` tags, but found that it gets cut off by the default size of the ScriptKit window. Is there a way to expand the viewable area? Alternatively how do I configure my shell (I use fish) to execute ScriptKit scripts? I tried the sync path script, but it doesn't seem to do anything for the relevant version of path. Being able to run the same script in terminal or the app itself and have it output in the appropriate place would be awesome, but the terminal side of ScriptKit is a bit opaque to me at the moment.","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/460","url":"","title":"Helper Functions Page Missing","command":"helper-functions-page-missing","content":"![Screen Shot 2021-09-29 at 8 49 43 AM](https://user-images.githubusercontent.com/3830326/135271724-76e6c422-424e-48be-bf27-ea555c0084e7.png)\r\n","extension":".md"},{"menu":"Lunch","description":"Set slack status and sleep display","avatar":"https://avatars.githubusercontent.com/u/3806031?u=f379659b9def22e8b0003f3f9d2f5ad9cdea9223&v=4","user":"jsjoeio","author":"Joe Previte","twitter":"jsjoeio","discussion":"https://github.com/johnlindquist/kit/discussions/458","url":"","title":"ReferenceError: run is not defined","command":"referenceerror-run-is-not-defined","content":"`run is not defined`\r\n\r\n## Script\r\n\r\n```javascript\r\n//Menu: Lunch\r\n//Description: Set slack status and sleep display\r\n\r\nawait run(\"slack-lunch-status\")\r\nawait run(\"sleep\")\r\n```\r\n\r\n```javascript\r\nReferenceError: run is not defined\r\n    at file:///Users/jp/.kenv/scripts/lunch.js?uuid=eb39c908-24d5-4f86-9060-881dddc72484:4:1\r\n    at ModuleJob.run (node:internal/modules/esm/module_job:154:23)\r\n    at async Loader.import (node:internal/modules/esm/loader:166:24)\r\n    at async global.attemptImport (file:///Users/jp/.kit/api/kit.js:78:28)\r\n    at async run (file:///Users/jp/.kit/core/utils.js:410:12)\r\n    at async file:///Users/jp/.kit/cli/app-run.js?uuid=557c7a4c-5795-448d-ac20-ba1871c778ea:81:9\r\n```","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/457","url":"","title":"TypeScript support! üöÄ","command":"typescript-support","content":"beta.62 brings with it a long-awaited, much-requested feature: TypeScript support!\r\n\r\n![CleanShot 2021-09-27 at 10 42 38](https://user-images.githubusercontent.com/36073/134951810-31754840-85c3-4ad3-a493-59c757fdda07.png)\r\n\r\n## TypeScript Support üöÄ\r\n\r\n### 1. But, how?\r\n\r\nEach time your run a TS script, Script Kit will compile the TS script using `esbuild` to a JS script in a `.scripts` dir (notice the \"dot\"). The compiled JS script is then imported from there. Using `.scripts` as a sibling dir will help avoid any `import`/path issues. You can also write TS \"library\" files in your `~/.kenv/lib` dir and import them into your script just fine.\r\n\r\nIf you're experienced with `esbuild` and curious about the settings, they look like this:\r\n\r\n```js\r\nlet { build } = await import(\"esbuild\")\r\n\r\nawait build({\r\n  entryPoints: [scriptPath],\r\n  outfile,\r\n  bundle: true,\r\n  platform: \"node\",\r\n  format: \"esm\",\r\n  external: [\"@johnlindquist/kit\"],\r\n})\r\n```\r\n\r\nThis also opens the door to exporting/building/bundling scripts and libs as individual shippable tools which I'll investigate more in the future.\r\n\r\n### 2. Can I still run my JS scripts if I switch to TS?\r\n\r\nYes! Both your TS and JS scripts will show up in the UI.\r\n\r\n### 3. Why the `import \"@johnlindquist/kit\"`?\r\n\r\nWhen you create a new TS script, the generated script will start with the line: `import \"@johnlindquist/kit\"`\r\n\r\nThis is mostly to make your editor stop complaining by forcing it to load the type definition files and forcing it to treat the file as an \"es module\" so support \"top-level `await`\". It's not technically required since it's not technically importing anything, but your editor will certainly complain very loudly if you leave it out.\r\n\r\n### 4. Where is the setting stored?\r\n\r\nLook in your `~/.kenv/.env` for `KIT_MODE=ts`.\r\n\r\n## fs-extra's added to global\r\n\r\nThe [fs-extra methods](https://www.npmjs.com/package/fs-extra#methods) are now added on the global space. I found myself using `outputFile`, `write/readJson`, etc too often and found them to be a great addition. The only one missing is `copy` since we're already using that to \"copy to clipboard\". You can bring it in with the normal import/alias process if needed, e.g., `let {copy:fsCopy} = await import(\"fs-extra\")`\r\n\r\n## Sync Path\r\n\r\n![CleanShot 2021-09-27 at 11 10 26](https://user-images.githubusercontent.com/36073/134954703-7c9d779f-268a-4f8b-973a-59ac71eebaf0.png)\r\n\r\nYou may notice running scripts from the Script Kit app that some commands you can run in your terminal might be missing, like \"yarn\", etc.\r\n\r\nRun the following command in your terminal to copy the $PATH var from your terminal to your `~/.kenv/.env`. This will help \"sync\" up which commands are available between your terminal and running scripts from the app.\r\n\r\n```bash\r\n~/.kit/bin/kit sync-path\r\n```\r\n","extension":".md"},{"menu":"Switch osx theme","shortcut":"option command t","author":"Oskars Ezerins","avatar":"https://avatars.githubusercontent.com/u/18247063?u=b194d1f49eacbd10e90eeddfc7941822205e75d4&v=4","user":"OskarsEzerins","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/456","url":"","title":"Switch osx theme","command":"switch-osx-theme","content":"Kit has to be given permission for System events in Settings -> Security & Privacy -> Privacy -> Automation\r\n\r\n```js\r\n// Menu: Switch osx theme\r\n// Shortcut: option command t\r\n// Author: Oskars Ezerins\r\n\r\nconst toggleTheme = async () => {\r\n  let script = `\r\n  tell application \"System Events\"\r\n    tell appearance preferences\r\n      set dark mode to not dark mode\r\n    end tell\r\n  end tell\r\n  `.trim()\r\n  return await global.applescript(script)\r\n}\r\n\r\ntoggleTheme()\r\n\r\n```\r\n","extension":".md"},{"menu":"Helper Functions","description":"A glossary of Scriptkit's gloabal helper functions.","author":null,"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/451","url":"","title":"Is it possible to style elements rendered within the <div> tag?","command":"is-it-possible-to-style-elements-rendered-within-the-lessdivgreater-tag","content":"I'm making a script to help me learn Scriptkit's helper functions. Using colors and well structured content helps tremendously when learning. Is there a way to use `css`?\r\n```js\r\n// Menu: Helper Functions\r\n// Description: A glossary of Scriptkit's gloabal helper functions.\r\n// Author: S.Barakat\r\n\r\nlet command = await arg(\"Pick a command\", [\"cd\", \"cp\", \"chmod\", \"echo\", \"exec\", \"exit\", \"grep\"]);\r\n\r\nlet summary = \"\";\r\nlet definition = \"\";\r\n\r\nswitch (command) {\r\n  case \"cd\":\r\n    summary = \"Use c d to change the current working directory to directory.\"\r\n    definition = md(\"# CD: Change the current working directory to `directory`.\") +\r\n      md(\"* ``` cd [-L|[-P [-e]] [-@] [directory]``` \") +\r\n      md(\"More Info: https://man7.org/linux/man-pages/man1/cd.1p.html\")\r\n    break;\r\n  case \"cp\":\r\n    summary = \"Use c p to copy single or multiple files or directories.\"\r\n    definition = md(\"# CP: Copy single or multiple files or directories.\") +\r\n      md(\"### To copy a file:\") +\r\n      md(\"* `cp foo.txt bar.txt`\" + '<br />' + \"creates `bar.txt` with contents of `foo.txt`\") +\r\n      md(\"### To copy multiple files, pass their names followed by the destination directory:\") +\r\n      md(\"* `cp foo.txt bar.txt baz.txt copies/`\" + '<br />' + \"duplicates `foo.txt`, `bar.txt`, and `baz.txt` to the `copies` directory.\") +\r\n      md(\"### To copy a directory, pass the -R flag:\") +\r\n      md(\"* `cp -R thisDirectory/ thatDirectory`\" + '<br />' + \"recursively copies the contents of `thisDirectory` to `thatDirectory`.\") +\r\n      md(\"### To copy multiple directories, pass the path of the directories to be copied followed by the destination directory:\") +\r\n      md(\"* `cp path/to/foo path/to/bar path/to/baz path/to/copies`\" + '<br />' + \"duplicates the `foo`, `bar`, and `baz` directories to the `copies` directory.\") +\r\n      md(\"https://man7.org/linux/man-pages/man1/cd.1p.html\")\r\n    break;\r\n  case \"chmod\":\r\n    summary = \"Use c h m o d to change access permissions according to the mode.\"\r\n    definition = md(\"# CHMOD: Change the permissions of each given file according to mode.\") +\r\n      md(\"### Numeric mode:\") +\r\n      md(\"* A numeric mode is from one to four octal digits (0-7), derived by adding up the bits with values 4, 2, and 1. Any omitted digits are assumed to be leading zeros.`\") +\r\n      md(\"* The first digit selects the `set user ID (4)`, `set group ID (2)`, and `sticky (1)` attributes.\") +\r\n      md(\"* The second digit selects permissions for the user who \" + \"<b><i>\" + \" owns \" + \"</i></b>\" + \" the file: `read (4), write (2), and execute (1)`\") +\r\n      md(\"* The third selects permissions for other users in the file's group: `read (4), write (2), and execute (1)`\") +\r\n      md(\"* The fourth selects permissions for other users\" + \"<b><i>\" + \" not \" + \"</i></b>\" + \"in the file's group: `read (4), write (2), and execute (1)`\") +\r\n      md(\"### Examples:\") +\r\n      md(\"* `chmod 400 sample.txt`\" + '<br />' + \"Read by owner only.\") +\r\n      md(\"* `chmod 040 sample.txt`\" + '<br />' + \"Read by group only.\") +\r\n      md(\"* `chmod 004 sample.txt`\" + '<br />' + \"Read by anyone.\") +\r\n      md(\"* `chmod 200 sample.txt`\" + '<br />' + \"Write by owner only.\") +\r\n      md(\"* `chmod 020 sample.txt`\" + '<br />' + \"Write by group only.\") +\r\n      md(\"* `chmod 002 sample.txt`\" + '<br />' + \"Write by anyone.\") +\r\n      md(\"* `chmod 100 sample.txt`\" + '<br />' + \"Execute by owner only.\") +\r\n      md(\"* `chmod 010 sample.txt`\" + '<br />' + \"Execute by group only.\") +\r\n      md(\"* `chmod 001 sample.txt`\" + '<br />' + \"Execute by anyone.\") +\r\n      md(\"* `chmod 444 sample.txt`\" + '<br />' + \"Allow read permission to owner and group and anyone.\") +\r\n      md(\"* `chmod 777 sample.txt`\" + '<br />' + \"Allow everyone to read, write, and execute file.\") +\r\n      md(\"More Info: https://man7.org/linux/man-pages/man1/chmod.1.html\")\r\n    break;\r\n  case \"echo\":\r\n    summary = \"Use echo to display a line of text.\"\r\n    definition = md(\"# ECHO: Display a line of text.\") +\r\n      md(\"* `echo 'Hello World!' `\" + '<br />' + \"` output: Hello World!`\") +\r\n      md(\"More Info & Examples: https://www.tutorialspoint.com/unix_commands/echo.htm\");\r\n    break;\r\n  case \"exec\":\r\n    summary = \"Use exec to execute s command in place of the current process (instead of creating a new process).\"\r\n    definition = md(\"# EXEC: Execute \" + \"<i>\" + \" command \" + \"</i>\" + \" in place of the current process (instead of creating a new process).\") +\r\n      md(\"* `exec [command args ...]`\") + md(\"* `exec [-a name] [-cl] [command args ... ]`\") +\r\n      md(\"One common use case for exec relates to tidying up a script. If you need to use a script to tee up the parameters for a command, then terminating the script with exec launches the new program with those parameters and closes the current shell session.\") +\r\n      md(\"More Info: https://man7.org/linux/man-pages/man1/exec.1p.html\")\r\n    break;\r\n  case \"exit\":\r\n    summary = \"Use exit to terminate a script.\"\r\n    definition = md(\"# EXIT: Terminates a script. It can also return a value, which is available to the script's parent process.\") +\r\n      md(\"### Example 1: Exit from shell.\") +\r\n      md(\"* `exit`\") +\r\n      md(\"### Example 2: Return the succsess/failure of functionality in script.\") +\r\n      md(\"* `exit 0`\" + '<br />' + \"Terminate shell script with success message:\") +\r\n      md(\"* `exit 1`\" + '<br />' + \"Terminate shell script with failure message:\") +\r\n      md(\"More Info: https://man7.org/linux/man-pages/man1/exit.1p.html\")\r\n    break;\r\n  case \"grep\":\r\n    summary = \"Use grep to print lines matching a pattern.\"\r\n    definition = md(\"# GREP: Searches the named input FILEs for lines containing a match to the given PATTERN.\") +\r\n      md(\"* `grep [OPTION...] PATTERNS [FILE...]`\") +\r\n      md('* Searches standard input if no files are named or a single hyphen-minus (-) is given as the file name.') +\r\n      md('* By default, grep prints the matching lines.') +\r\n      md(\"### Example 1: Search for the given string in a single file `filename.txt`\") +\r\n      md('* `grep \"waldo\" fileName`' + '<br />' + \"outputs: waldo (if found).\") +\r\n      md(\"### Example 2: Search for the given string in multiple files `filename1.txt, filename2.txt, filename3.txt`\") +\r\n      md('* `grep \"waldo\" fileName*`' + '<br />' + \"outputs: waldo (if found).\") +\r\n      md(\"### Example 3: Case insensitive search\") +\r\n      md('* `grep -i \"Waldo\" fileName`' + '<br />' + \"outputs: waldo (if found).\") +\r\n      md(\"More Info: https://man7.org/linux/man-pages/man1/grep.1.html\")\r\n    break;\r\n  default:\r\n    console.log(`Couldn't find ${expr}.`);\r\n}\r\n\r\n\r\nawait say(\r\n  summary\r\n);\r\n\r\nawait div(md(definition), \"p-4\");\r\n```\r\nI prefer Github's default text styling to the md helper's. It very colorful but doesn't wrap the content within the window, as you can see in this screenshot:\r\n\r\n![format](https://user-images.githubusercontent.com/3830326/134748378-7140c47d-eaed-489e-b4f3-0dc8e555feb3.png)\r\n\r\nAlso, I've been calling the app Scriptkit and spelling it that way, which is incorrect. It's two words. I have noted that. Or is it one word \"Kit\"?\r\n\r\n...ps: Some of the helper functions seem like they might have rare use cases. Any possibility you can list a dozen or so of the most useful ones to start learning first? Thank you.","extension":".md"},{"menu":"React Sandbox New","description":"A simple version of create-react-app.","author":null,"note":"\"rm\" is actually mapped to \"trash\" so files get moved to your trash bin instead of permenantly deleted","avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/450","url":"","title":"Script works when run from any directory in Terminal but fails when run from Scriptkit.","command":"script-works-when-run-from-any-directory-in-terminal-but-fails-when-run-from-scriptkit","content":"This script works great in my terminal but still has path errors when using Scriptkit if Yarn is chosen (NPM works):\r\n```js\r\n// Menu: React Sandbox New\r\n// Description: A simple version of create-react-app.\r\n// Author: S.Barakat\r\n\r\nimport path from 'path';\r\n\r\n// Prevent Scriptkit from closing until script finishes\r\nsetIgnoreBlur(true);\r\n\r\n// The replace fn\r\nlet replaceInFile = async (filePath, regex, string) => {\r\n  let content = await readFile(filePath, \"utf-8\")\r\n  let updatedContent = content.replace(\r\n    new RegExp(regex),\r\n    string\r\n  )\r\n  await writeFile(filePath, updatedContent)\r\n}\r\n\r\n// $`` is using the \"zx\" tool which wraps around \"exec\"\r\n// \"sed\" is a very powerful search/replace tool. We can use it for removing lines:\r\nlet removeLine = async (search, file) =>\r\n  await $`sed -i '' /${search}/d ${file}`;\r\n\r\n/***************\r\n  START SCRIPT\r\n****************/\r\n\r\n// Prompt for the project name\r\nlet projectName = await arg(\"Project name\");\r\nlet packageManager = await arg(\"Choose package manager:\", [\"npm\", \"yarn\"])\r\n\r\n\r\n// All the shelljs methods are global, e.g., \"cd\".\r\n// Whether you use `$` or the shelljs helpers will be a personal preference\r\n// \"home\" is a helper to create paths in your home dir\r\ncd(home(\"Dev\"));\r\nawait $`npx create-react-app ${projectName}`;\r\n\r\n// Update PATH if using yarn\r\nif (packageManager === \"yarn\") {\r\n  const yarn = which(\"yarn\").toString();\r\n  const yarnPath = path.dirname(yarn);\r\n  const currentPath = process.env.PATH;\r\n  const newPath = currentPath.concat(\";\", yarnPath);\r\n  process.env.PATH = newPath;\r\n}\r\n\r\ncd(path.resolve(projectName, \"src\"));\r\n\r\n// Note: \"rm\" is actually mapped to \"trash\" so files get moved to your trash bin instead of permenantly deleted\r\nrm([\r\n  `App.test.js`,\r\n  `index.css`,\r\n  `setUpTests.js`,\r\n  `reportWebVitals.js`,\r\n  `logo.svg`,\r\n]);\r\n\r\nawait $`${packageManager} remove web-vitals @testing-library/jest-dom @testing-library/react @testing-library/user-event`;\r\n\r\nlet filePath = path.resolve();\r\n\r\nawait removeLine(\"WebVitals\", \"index.js\");\r\nawait removeLine(\"logo\", \"App.js\");\r\n\r\n// Download to current dir\r\nawait download(\"https://meyerweb.com/eric/tools/css/reset/reset.css\", \".\");\r\n\r\nawait replaceInFile(\r\n  filePath + \"/App.js\",\r\n  `<header className=\"App-header\">\r\n        <p>\r\n          Edit <code>src/App.js</code> and save to reload.\r\n        </p>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Learn React\r\n        </a>\r\n      </header>`,\r\n  `App`\r\n)\r\n\r\nawait replaceInFile(\r\n  filePath + \"/index.js\",\r\n  `import './index.css'`,\r\n  `import './reset.css'`\r\n);\r\n\r\nawait replaceInFile(\r\n  filePath + \"/App.css\",\r\n  /^(?=[\\S\\s]{10,8000})[\\S\\s]*$/im,\r\n  `\r\n  *,\r\n  *::before,\r\n  *::after {\r\n    box-sizing: border-box;\r\n  }\r\n  body {\r\n    margin: 0;\r\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n      sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }\r\n\r\n  code {\r\n    font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\r\n      monospace;\r\n  }`\r\n);\r\nsetIgnoreBlur(false);\r\nedit(filePath);\r\n```\r\n<h4>Errors</h4>\r\n[2021-09-22 23:27:15.579] [warn]  Cannot read property 'toString' of null\r\n\r\n[2021-09-22 23:27:15.579] [warn]  TypeError: Cannot read property 'toString' of null\r\n\tat file:///Users/sb/.kenv/scripts/sandbox-new.js?uuid=aa511fd3-32ac-42e2-bae2-fe498e535988:42:29\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/449","url":"","title":"When should I use the \"generate bin files\" command?","command":"when-should-i-use-the-generate-bin-files-command","content":"When should I use the \"generate bin files\" command?\r\n![binfiles](https://user-images.githubusercontent.com/3830326/134588835-03735116-22fc-465e-a3b2-3e07cacc406c.png)","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/448","url":"","title":"What does adding `~/kit/bin` to PATH do?","command":"what-does-adding-kitbin-to-path-do","content":"Adding `~/kenv/bin` to PATH allows me to run script from any directory. What does adding `~/kit/bin` to PATH do?","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/447","url":"","title":"How to delete or un-publish a shared script ?","command":"how-to-delete-or-un-publish-a-shared-script","content":"On Tuesday, I shared a script called \"React Sandbox\" but later discovered it still had bugs. I wanted to delete it, to prevent it from being published on the next build. Is that possible? I only see an \"edit\" option.","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/445","url":"","title":"Social Media Image Not Working","command":"social-media-image-not-working","content":"I posted a link to Scriptkit on Discord today and the default image did not make the app look appealing, so I removed the preview.\r\n![kit](https://user-images.githubusercontent.com/3830326/134416864-87995111-488f-442e-b97a-625f0157a781.png)\r\n","extension":".md"},{"menu":"React Sandbox","description":"Barebones React Starter","author":null,"log":"false","note":"\"rm\" is actually mapped to \"trash\" so files get moved to your trash bin instead of permenantly deleted","avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/444","url":"https://gist.githubusercontent.com/stevebarakat/fcb2d504ba35eb653b72f0b78d1e26b5/raw/433accc5cfc9b35974fffa141d05c410d44b1875/react-sandbox.js","title":"React Sandbox","command":"react-sandbox","content":"\r\n[Install react-sandbox](https://scriptkit.com/api/new?name=react-sandbox&url=https://gist.githubusercontent.com/stevebarakat/fcb2d504ba35eb653b72f0b78d1e26b5/raw/433accc5cfc9b35974fffa141d05c410d44b1875/react-sandbox.js\")\r\n\r\n```js\r\n// Menu: React Sandbox\r\n// Description: Barebones React Starter\r\n// Author: S.Barakat\r\n\r\n//Log: false\r\n\r\n// Prevent Scriptkit from closing until script finishes\r\nsetIgnoreBlur(true);\r\n\r\n// Find and replace\r\nlet replaceInFile = async (filePath, regex, string) => {\r\n  let content = await readFile(filePath, \"utf-8\")\r\n  let updatedContent = content.replace(\r\n    new RegExp(regex),\r\n    string\r\n  )\r\n  await writeFile(filePath, updatedContent)\r\n}\r\n\r\n// $`` is using the \"zx\" tool which wraps around \"exec\"\r\n// \"sed\" is a very powerful search/replace tool. We can use it for removing lines:\r\nlet removeLine = async (searchArgs, file) => {\r\n  for (let n = 0; n < searchArgs.length; n++) {\r\n    await $`sed -i .bak /${searchArgs[n]}/d ${file}`;\r\n  }\r\n}\r\n\r\n/**************\r\n  START SCRIPT\r\n **************/\r\n\r\nlet reset = false;\r\n// Prompt to reset settings\r\nlet resetSettings = await arg(\"Reset settings?\", [\"no\", \"yes\"]);\r\nif (resetSettings === \"yes\") {\r\n  reset = true;\r\n}\r\n\r\n// Prompt for the project name\r\nlet projectName = await arg(\"Project name\");\r\n// Remove any spaces or uppercase letters from project name.\r\nprojectName = await projectName.toLowerCase().replace(/\\s/g, '');\r\n\r\n// Prompt for the project directory\r\nlet projectDir = await env(\"PROJECT_DIR\", {\r\n  placeholder: \"Project directory ~/yourDir\",\r\n  reset: reset\r\n});\r\n\r\n// Prompt for the package manager\r\n// let packageManager = await arg(\"Choose package manager:\", [\"npm\", \"yarn\"]);\r\nlet packageManager = await env(\"PACKAGE_MANAGER\", {\r\n  placeholder: \"Select a package manager:\",\r\n  choices: [\"npm\", \"yarn\"],\r\n  reset: reset\r\n});\r\n\r\nif (!which(await packageManager)) {\r\n  await terminal(`~/.kit/bin/kit sync-path`);\r\n  await div(md(\"Your PATH had to be set. Please re-run command.\"));\r\n  await exit();\r\n}\r\n\r\n// \"home\" is a helper to create paths in your home dir\r\ncd(home());\r\nmkdir(projectDir);\r\ncd(projectDir);\r\n\r\n// Create new app with CRA\r\nawait $`npx create-react-app ${projectName.toLowerCase()}`;\r\n\r\ncd(path.resolve(projectName, \"src\"));\r\n\r\n// Note: \"rm\" is actually mapped to \"trash\" so files get moved to your trash bin instead of permenantly deleted\r\nrm([\r\n  `App.test.js`,\r\n  `index.css`,\r\n  `setUpTests.js`,\r\n  `reportWebVitals.js`,\r\n  `logo.svg`,\r\n]);\r\n\r\n// remove web-vitals and testing-library\r\nawait $`${packageManager} remove web-vitals @testing-library/jest-dom @testing-library/react @testing-library/user-event`\r\n\r\nlet filePath = path.resolve();\r\n\r\nawait removeLine([\"logo\"], \"App.js\");\r\nawait removeLine([\"WebVitals\", \"vitals\", \"performance\"], \"index.js\");\r\n\r\n// Download to current dir\r\nawait download(\"https://meyerweb.com/eric/tools/css/reset/reset.css\", \".\");\r\n\r\nawait replaceInFile(\r\n  filePath + \"/App.js\",\r\n  `<header className=\"App-header\">\r\n        <p>\r\n          Edit <code>src/App.js</code> and save to reload.\r\n        </p>\r\n        <a\r\n          className=\"App-link\"\r\n          href=\"https://reactjs.org\"\r\n          target=\"_blank\"\r\n          rel=\"noopener noreferrer\"\r\n        >\r\n          Learn React\r\n        </a>\r\n      </header>`,\r\n  `App`\r\n)\r\n\r\nawait replaceInFile(\r\n  filePath + \"/index.js\",\r\n  `import './index.css'`,\r\n  `import './reset.css'`\r\n);\r\n\r\nawait replaceInFile(\r\n  filePath + \"/App.css\",\r\n  /^(?=[\\S\\s]{10,8000})[\\S\\s]*$/im,\r\n  `\r\n  *,\r\n  *::before,\r\n  *::after {\r\n    box-sizing: border-box;\r\n  }\r\n  body {\r\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\r\n      'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\r\n      sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n  }`\r\n);\r\n\r\nrm([\r\n  `index.js.bak`,\r\n  `App.js.bak`\r\n]);\r\n\r\nsetIgnoreBlur(false);\r\nedit(`${filePath}/../`);\r\n```\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/443","url":"","title":"What language is Scriptkit written in?","command":"what-language-is-scriptkit-written-in","content":"What language is Scriptkit written in?","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/442","url":"","title":"Scripts in GitHub actions (preview)","command":"scripts-in-github-actions-preview","content":"## tl;dr Here's an example repo\r\n\r\nThe example script creates a release, downloads an image, and uploads it to the release.\r\n\r\nhttps://github.com/johnlindquist/kit-action-example\r\n\r\n## Template Repo\r\n\r\nThis page has a \"one-click\" clone so you can add/play with your own script.\r\n\r\nhttps://github.com/johnlindquist/kit-action-template\r\n\r\n## What is it?\r\n\r\nUse any of your scripts in a GitHub action. `use` the `kit-action` and point it to a scripts in your `scripts` dir:\r\n\r\n```yml\r\nname: \"example\"\r\non:\r\n  workflow_dispatch:\r\n  pull_request:\r\n  push:\r\n    branches:\r\n      - main\r\n\r\njobs:\r\n  example:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Script Kit\r\n        uses: johnlindquist/kit-action@main\r\n        with:\r\n          script: \"example-script\" # The name of a script in your ./scripts dir\r\n```\r\n\r\n## Add env vars:\r\n\r\nYou most likely add [\"secrets\" to GitHub actions](https://docs.github.com/en/actions/reference/encrypted-secrets#creating-encrypted-secrets-for-an-environment), so you'll want to pass them to your scripts as environment variables:\r\n\r\n```yml\r\njobs:\r\n  example:\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - name: Script Kit\r\n        uses: johnlindquist/kit-action@main\r\n        with:\r\n          script: \"example-script\"\r\n        env:\r\n          REPO_TOKEN: \"${{ secrets.REPO_TOKEN }}\" # load in your script with await env(\"REPO_TOKEN\")\r\n```\r\n\r\n## Works with your existing repos\r\n\r\nFeel free to add this action and a `scripts` dir to your existing repos. It automatically loads in your repo so you can parse `package.json`, compress assets, or whatever it is you're looking to add to your CI.\r\n\r\n## What does \"preview\" mean?\r\n\r\nEverything is working, but it's pointing to the \"main\" branch rather than a tagged version. Once I get some feedback, I'll tag a \"1.0\" version so you can `uses: @johlindquist/kit-action@v1`\r\n\r\n## Please ask for help! üòá\r\n\r\nI'd ‚ù§Ô∏è to help you script something for a github action! Please let me know whatever I can do to help.","extension":".md"},{"menu":"Sleep","description":"Put your display to sleep","avatar":"https://avatars.githubusercontent.com/u/3806031?u=f379659b9def22e8b0003f3f9d2f5ad9cdea9223&v=4","user":"jsjoeio","author":"Joe Previte","twitter":"jsjoeio","discussion":"https://github.com/johnlindquist/kit/discussions/441","url":"","title":"system.js not found","command":"systemjs-not-found","content":"It seems that \"sleep\" is no longer working?\r\n\r\n```js\r\n//Menu: Sleep\r\n//Description: Put your display to sleep\r\nlet { sleep } = await kit(\"system\")\r\n\r\nawait sleep()\r\n```\r\n\r\nstacktrace:\r\n```js\r\n[2021-08-11 11:24:14.251] [info]  osascript -e 'tell application \"Finder\" to sleep'\r\n[2021-09-13 11:17:28.192] [warn]  /Users/jp/.kit/scripts/system.js not found\r\n[2021-09-13 11:17:28.196] [warn]  Error: /Users/jp/.kit/scripts/system.js not found\r\n    at resolveToScriptPath (file:///Users/jp/.kit/core/util.js:83:19)\r\n    at global.run (file:///Users/jp/.kit/api/kit.js:181:26)\r\n    at kit (file:///Users/jp/.kit/api/kit.js:320:19)\r\n    at file:///Users/jp/.kenv/scripts/sleep.js?uuid=16026dea-d8dc-4564-8bc6-60793f26e76a:3:29\r\n    at ModuleJob.run (node:internal/modules/esm/module_job:154:23)\r\n    at async Loader.import (node:internal/modules/esm/loader:166:24)\r\n    at async global.attemptImport (file:///Users/jp/.kit/api/kit.js:51:16)\r\n    at async file:///Users/jp/.kenv/scripts/gym.js?uuid=66b5762b-fd01-4bfa-8096-8af0a8ff3843:5:1\r\n```","extension":".md"},{"menu":"GitLab - next MR","description":"Open next MR that I have not approved","author":"Jakub Olek","twitter":null,"shortcut":"ctrl opt \\","avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","discussion":"https://github.com/johnlindquist/kit/discussions/440","url":"https://gist.githubusercontent.com/hakubo/9b08be9ee12fa5862dd5e10d8d5ac8b4/raw/1ccb059df8f5017f51250377c71425d81389efaf/nextMR.js","title":"(Gitlab) Open next MR that awaits approval","command":"gitlab-open-next-mr-that-awaits-approval","content":"\r\n[Install nextMR](https://scriptkit.com/api/new?name=nextMR&url=https://gist.githubusercontent.com/hakubo/9b08be9ee12fa5862dd5e10d8d5ac8b4/raw/1ccb059df8f5017f51250377c71425d81389efaf/nextMR.js\")\r\n\r\n```js\r\n// Menu: GitLab - next MR\r\n// Description: Open next MR that I have not approved\r\n// Author: Jakub Olek\r\n// Twitter: @JakubOlek\r\n// Shortcut: ctrl opt \\\r\n\r\nconst { request, gql, GraphQLClient } = await npm(\"graphql-request\");\r\nconst dayjs = await npm(\"dayjs\");\r\nimport relativeTime from \"dayjs/plugin/relativeTime.js\";\r\ndayjs.extend(relativeTime);\r\n\r\nconst domain = await env(\"GITLAB_DOMAIN\");\r\nconst token = await env(\"GITLAB_TOKEN\");\r\nconst username = await env(\"GITLAB_USERNAME\");\r\nconst jiraDomain = await env(\"JIRA_DOMAIN\");\r\nconst requiredApprovals = Number(await env(\"GITLAB_REQUIRED_APPROVALS\"));\r\nconst debug = false;\r\n\r\nfunction log(...args) {\r\n  if (debug) {\r\n    console.log(...args);\r\n  }\r\n}\r\n\r\nconst graphQLClient = new GraphQLClient(domain + \"/api/graphql\", {\r\n  headers: {\r\n    \"PRIVATE-TOKEN\": token,\r\n  },\r\n});\r\n\r\nconst projects = gql`\r\n  query($name: String!) {\r\n    projects(search: $name, membership: true) {\r\n      nodes {\r\n        nameWithNamespace\r\n        fullPath\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nif (!env.GITLAB_PROJECT_PATH) {\r\n  const fullPath = await arg(\"Search project\", async (input) => {\r\n    return (\r\n      await graphQLClient.request(projects, { name: input })\r\n    ).projects.nodes.map((project) => ({\r\n      name: project.nameWithNamespace,\r\n      description: project.fullPath,\r\n      value: project.fullPath,\r\n    }));\r\n  });\r\n\r\n  await cli(\"set-env-var\", \"GITLAB_PROJECT_PATH\", fullPath);\r\n}\r\n\r\nconst queryMrs = gql`\r\n  query($projectPath: ID!) {\r\n    project(fullPath: $projectPath) {\r\n      mergeRequests(state: opened, sort: UPDATED_DESC) {\r\n        nodes {\r\n          title\r\n          webUrl\r\n          iid\r\n          draft\r\n          description\r\n          createdAt\r\n          approvedBy {\r\n            nodes {\r\n              name\r\n              username\r\n            }\r\n          }\r\n          author {\r\n            name\r\n            username\r\n            avatarUrl\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nconst query = gql`\r\n  query($iid: String!, $projectPath: ID!) {\r\n    project(fullPath: $projectPath) {\r\n      mergeRequest(iid: $iid) {\r\n        commitsWithoutMergeCommits(first: 1) {\r\n          nodes {\r\n            authoredDate\r\n          }\r\n        }\r\n        headPipeline {\r\n          status\r\n        }\r\n        notes {\r\n          nodes {\r\n            updatedAt\r\n            author {\r\n              username\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n`;\r\n\r\nlet nextMR;\r\nconst myMrs = [];\r\nconst drafts = [];\r\nconst awaitingReview = [];\r\nconst alreadyCommented = [];\r\nconst haveAuthorCommented = [];\r\nconst haveOthersCommented = [];\r\nconst haveFailingPipeline = [];\r\nconst alreadyApprovedByMe = [];\r\nconst alreadyApprovedByOthers = [];\r\n\r\nconst {\r\n  project: {\r\n    mergeRequests: { nodes: mergeRequests },\r\n  },\r\n} = await graphQLClient.request(queryMrs, {\r\n  projectPath: env.GITLAB_PROJECT_PATH,\r\n});\r\n\r\narg(\"Processing...\");\r\nlog(\"Show list\", flag.showList);\r\nlog(\"Checking\", mergeRequests.length, \"MRs\");\r\n\r\nfor (let mr of mergeRequests) {\r\n  log(\"Checking MR\", mr.title, `(${mr.author.username})`);\r\n  const approvedBy = mr.approvedBy.nodes.map((node) => node.username);\r\n\r\n  if (mr.author.username === username) {\r\n    log(\"^ This is my MR\");\r\n    myMrs.push(mr);\r\n    continue;\r\n  }\r\n\r\n  if (mr.draft) {\r\n    drafts.push(mr);\r\n    log(\"^ This is a draft\");\r\n    continue;\r\n  }\r\n\r\n  if (approvedBy.includes(username)) {\r\n    log(\"^ Approved by me\");\r\n    alreadyApprovedByMe.push(mr);\r\n    continue;\r\n  } else {\r\n    if (approvedBy.length >= requiredApprovals) {\r\n      log(\"^ Approved by others\");\r\n      alreadyApprovedByOthers.push(mr);\r\n      continue;\r\n    }\r\n\r\n    const {\r\n      project: { mergeRequest },\r\n    } = await graphQLClient.request(query, {\r\n      iid: mr.iid,\r\n      projectPath: env.GITLAB_PROJECT_PATH,\r\n    });\r\n\r\n    const pipelineStatus = mergeRequest.headPipeline.status;\r\n\r\n    if (pipelineStatus !== \"SUCCESS\") {\r\n      log(\"^ Failed pipeline\");\r\n      haveFailingPipeline.push(mr);\r\n      continue;\r\n    }\r\n\r\n    const comments = mergeRequest.notes.nodes;\r\n\r\n    const anyLatestComment = comments[0];\r\n    const myLatestComment = comments.find(\r\n      (comment) => comment.author.username === username\r\n    );\r\n    const authorLatestComment = comments.find(\r\n      (comment) => comment.author.username === mr.author.username\r\n    );\r\n\r\n    if (myLatestComment) {\r\n      const latestCommitTime = dayjs(\r\n        mergeRequest.commitsWithoutMergeCommits.nodes[0].authoredDate\r\n      );\r\n      const myLatestCommentTime = dayjs(myLatestComment.updatedAt);\r\n\r\n      if (latestCommitTime.isBefore(myLatestCommentTime)) {\r\n        log(\"^ awaits new commits after my comments\");\r\n        alreadyCommented.push(mr);\r\n        continue;\r\n      }\r\n\r\n      if (authorLatestComment) {\r\n        const authorLatestCommentTime = dayjs(authorLatestComment.updatedAt);\r\n\r\n        if (authorLatestCommentTime.isAfter(myLatestComment.updatedAt)) {\r\n          log(\"^ have some comments by the MR author after my comment\");\r\n          haveAuthorCommented.push(mr);\r\n          continue;\r\n        }\r\n      }\r\n\r\n      if (anyLatestComment) {\r\n        const latestCommentTime = dayjs(anyLatestComment.updatedAt);\r\n\r\n        if (latestCommentTime.isAfter(myLatestComment.updatedAt)) {\r\n          log(\"^ have some comments by other after my comment\");\r\n          haveOthersCommented.push(mr);\r\n          continue;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (!flag.showList) {\r\n      nextMR = mr;\r\n      break;\r\n    } else {\r\n      awaitingReview.push(mr);\r\n    }\r\n  }\r\n}\r\n\r\nfunction createJiraLinks(text) {\r\n  return text.replace(\r\n    /[A-Z]{1,5}-[0-9]*/g,\r\n    (ticketNumber) => `[${ticketNumber}](${jiraDomain}}/browse/${ticketNumber})`\r\n  );\r\n}\r\n\r\nfunction getName(mr) {\r\n  if (mr.author.username === username) {\r\n    return `${!mr.draft && mr.approvedBy.nodes.length < 2 ? \"!A \" : \"\"}${\r\n      mr.title\r\n    }`;\r\n  }\r\n\r\n  return mr.title;\r\n}\r\n\r\nfunction getChoices(mrs, description) {\r\n  return mrs.map((mr) => ({\r\n    name: getName(mr),\r\n    value: mr.webUrl,\r\n    description: description,\r\n    img: mr.author.avatarUrl.includes(\"http\")\r\n      ? mr.author.avatarUrl\r\n      : domain + mr.author.avatarUrl,\r\n    preview: md(\r\n      `# ${createJiraLinks(mr.title)}\r\n## Created ${dayjs(mr.createdAt).fromNow()} by ${mr.author.name}\r\n\r\n## ${description}\r\n\r\n## Approved by\r\n${\r\n  mr.approvedBy.nodes.length\r\n    ? mr.approvedBy.nodes\r\n        .map(\r\n          (user) => `* ${user.name}\r\n`\r\n        )\r\n        .join(\"\")\r\n    : \"- nobody\"\r\n}\r\n\r\n${createJiraLinks(\r\n  mr.description.replace(\r\n    /\\/uploads\\//g,\r\n    domain + \"/uploads/\" + env.GITLAB_PROJECT_PATH + \"/\"\r\n  )\r\n)}`\r\n    ),\r\n  }));\r\n}\r\n\r\nif (nextMR) {\r\n  await focusTab(nextMR.webUrl);\r\n} else {\r\n  const choices = [\r\n    ...getChoices(awaitingReview, \"Awaiting Review\"),\r\n    ...getChoices(haveAuthorCommented, \"Author have comments after you\"),\r\n    ...getChoices(haveOthersCommented, \"Someone have comments after you\"),\r\n    ...getChoices(myMrs, \"My merge request\"),\r\n    ...getChoices(haveFailingPipeline, \"Failing Pipeline\"),\r\n    ...getChoices(alreadyCommented, \"You have commented on this\"),\r\n    ...getChoices(alreadyApprovedByOthers, \"Already approved by others\"),\r\n    ...getChoices(alreadyApprovedByMe, \"Already approved by you\"),\r\n    ...getChoices(drafts, \"Draft\"),\r\n  ];\r\n\r\n  if (choices.length) {\r\n    const mr = await arg(\"Open MR:\", choices);\r\n\r\n    if (mr) {\r\n      focusTab(mr);\r\n    }\r\n  }\r\n}\r\n\r\n\r\n```\r\n\r\nThis one I use every day at work. It checks a project for any MR that have no approvals and open it for me automatically.\r\nIn case there is no MR that I should review - it opens arg with a list of all MRs that I might be interested in in this order:\r\n\r\n1. All MRs that I approved but author have comments after me\r\n2. All MRs that I approved but someone have comments after me\r\n3. All my MRs\r\n4. All MRs that have a pipeline failing\r\n5. All MRs that I have already commented\r\n6. All MRs that is already approved by others\r\n7. All MR s that is already approved by me\r\n8. All Draft Mrs.\r\n\r\nFirst time you run it i'll ask you to configure it with gitlab domain, token and your username, jira domain and number of approvals required for each MR.","extension":".md"},{"menu":"Conventional comment","description":"Comments that are easy to grok and grep","author":"Jakub Olek","twitter":null,"shortcut":"opt 0","avatar":"https://avatars.githubusercontent.com/u/1018759?v=4","user":"hakubo","discussion":"https://github.com/johnlindquist/kit/discussions/439","url":"https://gist.githubusercontent.com/hakubo/7813751d84d00da902f997df98a4b9a6/raw/d8e610f13ae4f943c70370195d27497124ee817e/comment.js","title":"Conventional comments","command":"conventional-comments","content":"\r\n[Install comment](https://scriptkit.com/api/new?name=comment&url=https://gist.githubusercontent.com/hakubo/7813751d84d00da902f997df98a4b9a6/raw/d8e610f13ae4f943c70370195d27497124ee817e/comment.js\")\r\n\r\n```js\r\n// Menu: Conventional comment\r\n// Description: Comments that are easy to grok and grep\r\n// Author: Jakub Olek\r\n// Twitter: @JakubOlek\r\n// Shortcut: opt 0\r\n// Based on: https://hemdan.hashnode.dev/conventional-comments\r\n\r\nconst type = await arg(\"Label\", [\r\n  {\r\n    name: \"üëè praise\",\r\n    value: \"**üëè praise**: \",\r\n    description:\r\n      \"Praises highlight something positive. Try to leave at least one of these comments per review (if it exists :^)\",\r\n  },\r\n  {\r\n    name: \"ü§ì nitpick\",\r\n    value: \"**ü§ì nitpick**: \",\r\n    description:\r\n      \"Nitpicks are small, trivial, but necessary changes. Distinguishing nitpick comments significantly helps direct the reader's attention to comments requiring more involvement.\",\r\n  },\r\n  {\r\n    name: \"üéØ suggestion\",\r\n    value: \"**üéØ suggestion**: \",\r\n    description:\r\n      \"Suggestions are specific requests to improve the subject under review. It is assumed that we all want to do what's best, so these comments are never dismissed as ‚Äúmere suggestions‚Äù, but are taken seriously.\",\r\n  },\r\n  {\r\n    name: \"üî® issue\",\r\n    value: \"**üî® issue**: \",\r\n    description:\r\n      \"Issues represent user-facing problems. If possible, it's great to follow this kind of comment with a suggestion.\",\r\n  },\r\n  {\r\n    name: \"‚ùî question\",\r\n    value: \"**‚ùî question**: \",\r\n    description:\r\n      \"Questions are appropriate if you have a potential concern but are not quite sure if it's relevant or not. Asking the author for clarification or investigation can lead to a quick resolution.\",\r\n  },\r\n  {\r\n    name: \"üí≠ thought\",\r\n    value: \"**üí≠ thought**: \",\r\n    description:\r\n      \"Thoughts represent an idea that popped up from reviewing. These comments are non-blocking by nature, but they are extremely valuable and can lead to more focused initiatives and mentoring opportunities.\",\r\n  },\r\n  {\r\n    name: \"üí£ chore\",\r\n    value: \"**üí£ chore**: \",\r\n    description:\r\n      \"Chores are simple tasks that must be done before the subject can be ‚Äúofficially‚Äù accepted. Usually, these comments reference some common processes. Try to leave a link to the process described so that the reader knows how to resolve the chore.\",\r\n  },\r\n]);\r\n\r\nsetSelectedText(type);\r\n\r\n```\r\n\r\nSimple list of conventional comments ready to be used.\r\nhttps://conventionalcomments.org/\r\n\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/13821327?v=4","user":"cfritze64","author":"Christian Fritze","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/435","url":"","title":"error finding lib file","command":"error-finding-lib-file","content":"beta 58 new error?\r\nThe offending call in my scripts is like this one:\r\n\r\nlet { getActiveScreen, setActiveAppBounds } = await kit(\"desktop\")\r\n\r\ndesktop.js is in /Users/BikeFixe/.kit/lib as I think it was before. \r\n\r\nError reported by Kit:\r\n\r\n\r\n/Users/BikeFixe/.kit/scripts/desktop.js not found\r\nError: /Users/BikeFixe/.kit/scripts/desktop.js not found\r\n    at resolveToScriptPath (file:///Users/BikeFixe/.kit/core/util.js:83:19)\r\n    at global.run (file:///Users/BikeFixe/.kit/api/kit.js:181:26)\r\n    at kit (file:///Users/BikeFixe/.kit/api/kit.js:320:19)\r\n    at file:///Users/BikeFixe/.kenv/scripts/right-app.js?uuid=ff68881b-7861-4442-bbe3-6b654304237a:6:53\r\n    at ModuleJob.run (node:internal/modules/esm/module_job:154:23)\r\n    at async Loader.import (node:internal/modules/esm/loader:166:24)\r\n    at async global.attemptImport (file:///Users/BikeFixe/.kit/api/kit.js:51:16)\r\n    at async file:///Users/BikeFixe/.kit/cli/app-run.js?uuid=e1c46267-8240-46fc-a78b-8d8124977f07:77:9","extension":".md"},{"menu":"Computer Info","description":"Gets Computer info","author":null,"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/433","url":"https://gist.githubusercontent.com/stevebarakat/f8c4140f0fc23638cc851a4ae352811a/raw/3dbfd57e6e24f5065cbafc43917a129ab4bc5f2e/computer-info.js","title":"Computer Info","command":"computer-info","content":"\r\n[Install computer-info](https://scriptkit.com/api/new?name=computer-info&url=https://gist.githubusercontent.com/stevebarakat/f8c4140f0fc23638cc851a4ae352811a/raw/3dbfd57e6e24f5065cbafc43917a129ab4bc5f2e/computer-info.js\")\r\n\r\n```js\r\n// Menu: Computer Info\r\n// Description: Gets Computer info\r\n// Author: S.Barakat\r\n\r\nimport os from \"os\";\r\n\r\nconst homeDirectory = os.homedir();\r\n\r\nconst osPlatform = os.platform();\r\n\r\nconst cpu = os.cpus();\r\nconst coreCount = cpu.length;\r\nconst cpuModel = cpu[0].model;\r\nconst cpuSpeed = cpu[0].speed;\r\n\r\nlet info = `\r\n* OS: ${osPlatform}\r\n* Home: ${homeDirectory}\r\n* CPU: ${cpuModel}\r\n* Speed: ${cpuSpeed} MHz\r\n* Cores: ${coreCount}\r\n`\r\n\r\n\r\nawait say(\r\n  `\r\n  Your home directory is: ${homeDirectory}. \r\n  The OS platform is: ${osPlatform}. \r\n  The processor speed is ${cpuSpeed} megahertz.\r\n  Your ${cpuModel} has ${coreCount} cores.\r\n  `\r\n);\r\n\r\nawait div(md(info), `p-4`)\r\n```\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/1500684?u=f35a28c4eead6ba9636a8ff5858f6977d8593c43&v=4","user":"kentcdodds","author":"Kent C. Dodds","twitter":"kentcdodds","discussion":"https://github.com/johnlindquist/kit/discussions/432","url":"","title":"kit's version of node (15) is overriding my own version from n","command":"kits-version-of-node-15-is-overriding-my-own-version-from-n","content":"No matter what I do, my `node` resolves to one installed by `kit` which is causing me a bunch of issues because kit's version is 15...\r\n\r\n```\r\n~/code/remix-kentcdodds (main) üßû‚Äç\r\n$ node --version\r\nv15.13.0\r\n~/code/remix-kentcdodds (main) üßû‚Äç\r\n$ n\r\n   installed : v16.9.1 to /Users/kentcdodds/n/bin/node\r\n      active : v15.13.0 at /Users/kentcdodds/.kit/node/bin/node\r\n~/code/remix-kentcdodds (main) üßû‚Äç\r\n$ which node\r\n/Users/kentcdodds/.kit/node/bin/node\r\n~/code/remix-kentcdodds (main) üßû‚Äç\r\n$ \r\n```\r\n\r\nI use https://npm.im/n to manage my node version and even after selecting v16.9.1, it's still using node 15 from kit. I've closed and opened the terminal and everything. I can't get it to use the version from `n`. :(","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/430","url":"","title":"How to share scripts with community?","command":"how-to-share-scripts-with-community","content":"Hi. How can I add a script I made to the \"Community Scripts\"? I've already created a Gist with a shareable link.","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/1626664?v=4","user":"cchidhu","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/428","url":"","title":"How to add Zscaler certificate to resolve this issue.","command":"how-to-add-zscaler-certificate-to-resolve-this-issue","content":"Error while trying to execute the script - \r\n\r\nunable to get local issuer certificate\r\nError: unable to get local issuer certificate\r\n    at TLSSocket.onConnectSecure (node:_tls_wrap:1536:34)\r\n    at TLSSocket.emit (node:events:365:28)\r\n    at TLSSocket._finishInit (node:_tls_wrap:950:8)\r\n    at TLSWrap.ssl.onhandshakedone (node:_tls_wrap:722:12)","extension":".md"},{"menu":"Run the Tutorial","description":"Learn the basics of using Script Kit","author":null,"twitter":null,"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","discussion":"https://github.com/johnlindquist/kit/discussions/425","url":"","title":"Missing File: tutorial.js","command":"missing-file-tutorialjs","content":"<h2>error-action.log</h2>\r\n[2021-09-05 19:27:46.092] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:27:46.095] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:27:46.096] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n[2021-09-05 19:28:09.436] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:28:09.438] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:28:09.439] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n[2021-09-05 19:35:46.419] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:35:46.421] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:35:46.422] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n[2021-09-05 19:37:10.088] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:37:10.090] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:37:10.092] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n[2021-09-05 19:39:33.893] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:39:33.895] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:39:33.896] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n\r\n<h2>run-tutorial.log</h2>\r\n[2021-09-05 19:27:46.092] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:27:46.095] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:27:46.096] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n[2021-09-05 19:28:09.436] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:28:09.438] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:28:09.439] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n[2021-09-05 19:35:46.419] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:35:46.421] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:35:46.422] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n[2021-09-05 19:37:10.088] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:37:10.090] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:37:10.092] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n[2021-09-05 19:39:33.893] [warn]  ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:39:33.895] [warn]  Error: ENOENT: no such file or directory, open '/Users/sb/.kenv/templates/tutorial.js'\r\n[2021-09-05 19:39:33.896] [warn]  ‚ò†Ô∏è ERROR PROMPT SHOULD SHOW ‚ò†Ô∏è\r\n\r\n<h2>kit.log</h2>\r\n[2021-09-05 19:36:44.723] [info]  üèö main shortcut\r\n[2021-09-05 19:36:44.725] [info]  üõë kill Prompt /Users/sb/.kit/cli/error-action.js id: 51974\r\n[2021-09-05 19:36:44.725] [info]  { length: 7, path: '/Users/sb/.kit/main/index.js' }\r\n[2021-09-05 19:36:44.726] [info]  üèé /Users/sb/.kit/main/index.js 51975\r\n[2021-09-05 19:36:44.815] [info]  üü¢ start idle Prompt id: 52013\r\n[2021-09-05 19:36:44.817] [info]  SET_SCRIPT Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.817] [info]  SET_TAB_INDEX Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.817] [info]  SET_FLAGS Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.817] [info]  SET_MODE Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.817] [info]  SET_PROMPT_DATA Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.817] [info]  SET_HINT Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.818] [info]  SET_CHOICES Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.819] [info]  ‚Üï RESIZE: 320 x 414\r\n[2021-09-05 19:36:44.820] [info]  SET_FLAGS Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.822] [info]  SET_MODE Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.822] [info]  SET_PROMPT_DATA Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.822] [info]  SET_HINT Prompt process index.js id: 51975\r\n[2021-09-05 19:36:44.823] [info]  SET_CHOICES Prompt process index.js id: 51975\r\n[2021-09-05 19:37:01.710] [info]  SET_SCRIPT Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:01.711] [info]  {\r\n  length: 0,\r\n  path: '/Users/sb/.kenv/kenvs/examples/scripts/run-tutorial.js'\r\n}\r\n[2021-09-05 19:37:01.722] [info]  SET_MODE Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:01.723] [info]  SET_PROMPT_DATA Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:01.723] [info]  SET_HINT Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:01.724] [info]  SET_CHOICES Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:01.963] [info]  ‚Üï RESIZE: 320 x 144\r\n[2021-09-05 19:37:07.978] [info]  SET_MODE Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:07.978] [info]  SET_PROMPT_DATA Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:07.978] [info]  SET_HINT Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:07.978] [info]  SET_CHOICES Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:07.982] [info]  ‚Üï RESIZE: 320 x 312\r\n[2021-09-05 19:37:07.993] [info]  ‚Üï RESIZE: 320 x 272\r\n[2021-09-05 19:37:10.087] [info]  CONSOLE_WARN Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:10.090] [info]  CONSOLE_WARN Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:10.091] [info]  CONSOLE_WARN Prompt process run-tutorial.js id: 51975\r\n[2021-09-05 19:37:10.107] [info]  üá¶üá∑ /Users/sb/.kit/cli/error-action.js run-tutorial.js,/Users/sb/.kenv/tmp/run-tutorial/error-2021-09-05-23-37-10.txt,/Users/sb/.kenv/kenvs/examples/scripts/run-tutorial.js,1,1\r\n[2021-09-05 19:37:10.108] [info]  üõë kill Prompt /Users/sb/.kit/main/index.js id: 51975\r\n[2021-09-05 19:37:10.108] [info]  { length: 0, path: '/Users/sb/.kit/cli/error-action.js' }\r\n[2021-09-05 19:37:10.109] [info]  üèé /Users/sb/.kit/cli/error-action.js 51981\r\n[2021-09-05 19:37:10.168] [info]  üü¢ start idle Prompt id: 52039\r\n[2021-09-05 19:37:10.169] [info]  üïπ sk /Users/sb/.kit/cli/error-action.js run-tutorial.js,/Users/sb/.kenv/tmp/run-tutorial/error-2021-09-05-23-37-10.txt,/Users/sb/.kenv/kenvs/examples/scripts/run-tutorial.js,1,1\r\n[2021-09-05 19:37:10.170] [info]  SET_SCRIPT Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:10.170] [info]  CONSOLE_LOG Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:10.170] [info]  SET_MODE Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:10.170] [info]  SET_PROMPT_DATA Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:10.170] [info]  SET_HINT Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:10.171] [info]  SET_IGNORE_BLUR Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:10.171] [info]  SET_CHOICES Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:10.172] [info]  ‚Üï RESIZE: 320 x 248\r\n[2021-09-05 19:37:10.177] [info]  ‚Üï RESIZE: 320 x 304\r\n[2021-09-05 19:37:10.195] [info]  ‚Üï RESIZE: 320 x 408\r\n[2021-09-05 19:37:19.549] [info]  SET_MODE Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:19.550] [info]  SET_PROMPT_DATA Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:19.550] [info]  SET_HINT Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:19.578] [info]  ‚Üï RESIZE: 320 x 368\r\n[2021-09-05 19:37:19.799] [info]  ‚Üï RESIZE: 320 x 144\r\n[2021-09-05 19:37:19.837] [info]  SET_CHOICES Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:19.840] [info]  ‚Üï RESIZE: 320 x 414\r\n[2021-09-05 19:37:22.134] [info]  CONSOLE_LOG Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:22.135] [info]  CONSOLE_LOG Prompt process error-action.js id: 51981\r\n[2021-09-05 19:37:22.379] [info]  ‚Üï RESIZE: 320 x 144\r\n[2021-09-05 19:37:23.364] [info]  üü° end Prompt process:  id: 51981\r\n[2021-09-05 19:37:23.365] [info]  üõë kill Prompt /Users/sb/.kit/cli/error-action.js id: 51981\r\n[2021-09-05 19:37:49.804] [info]  üèö main shortcut\r\n[2021-09-05 19:37:49.806] [info]  { length: 7, path: '/Users/sb/.kit/main/index.js' }\r\n[2021-09-05 19:37:49.808] [info]  üèé /Users/sb/.kit/main/index.js 52007\r\n[2021-09-05 19:37:49.896] [info]  üü¢ start idle Prompt id: 52121\r\n[2021-09-05 19:37:49.897] [info]  SET_SCRIPT Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.897] [info]  SET_TAB_INDEX Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.898] [info]  SET_FLAGS Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.898] [info]  SET_MODE Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.898] [info]  SET_PROMPT_DATA Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.898] [info]  SET_HINT Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.898] [info]  SET_CHOICES Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.899] [info]  ‚Üñ BOUNDS: { x: 1560, y: 202, width: 320, height: 414 }\r\n[2021-09-05 19:37:49.921] [info]  SET_FLAGS Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.921] [info]  SET_MODE Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.921] [info]  SET_PROMPT_DATA Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.921] [info]  SET_HINT Prompt process index.js id: 52007\r\n[2021-09-05 19:37:49.922] [info]  SET_CHOICES Prompt process index.js id: 52007\r\n[2021-09-05 19:37:55.507] [info]  SET_MODE Prompt process index.js id: 52007\r\n[2021-09-05 19:37:55.508] [info]  SET_PROMPT_DATA Prompt process index.js id: 52007\r\n[2021-09-05 19:37:55.508] [info]  SET_HINT Prompt process index.js id: 52007\r\n[2021-09-05 19:37:55.509] [info]  SET_CHOICES Prompt process index.js id: 52007\r\n[2021-09-05 19:37:55.515] [info]  ‚Üï RESIZE: 320 x 326\r\n[2021-09-05 19:38:01.273] [info]  üôà Blur process: /Users/sb/.kit/main/index.js id: 52007\r\n[2021-09-05 19:38:01.282] [info]  üü° end Prompt process:  id: 52007\r\n[2021-09-05 19:38:01.283] [info]  üõë kill Prompt /Users/sb/.kit/main/index.js id: 52007\r\n[2021-09-05 19:39:20.428] [info]  üèö main shortcut\r\n[2021-09-05 19:39:20.428] [info]  { length: 7, path: '/Users/sb/.kit/main/index.js' }\r\n[2021-09-05 19:39:20.429] [info]  üèé /Users/sb/.kit/main/index.js 52013\r\n[2021-09-05 19:39:20.503] [info]  üü¢ start idle Prompt id: 52132\r\n[2021-09-05 19:39:20.504] [info]  SET_SCRIPT Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.504] [info]  SET_TAB_INDEX Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.505] [info]  SET_FLAGS Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.505] [info]  SET_MODE Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.505] [info]  SET_PROMPT_DATA Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.505] [info]  SET_HINT Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.505] [info]  SET_CHOICES Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.506] [info]  ‚Üñ BOUNDS: { x: 1560, y: 202, width: 320, height: 414 }\r\n[2021-09-05 19:39:20.534] [info]  SET_FLAGS Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.534] [info]  SET_MODE Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.534] [info]  SET_PROMPT_DATA Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.534] [info]  SET_HINT Prompt process index.js id: 52013\r\n[2021-09-05 19:39:20.535] [info]  SET_CHOICES Prompt process index.js id: 52013\r\n[2021-09-05 19:39:24.415] [info]  SET_SCRIPT Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:24.415] [info]  {\r\n  length: 0,\r\n  path: '/Users/sb/.kenv/kenvs/examples/scripts/run-tutorial.js'\r\n}\r\n[2021-09-05 19:39:24.427] [info]  SET_MODE Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:24.428] [info]  SET_PROMPT_DATA Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:24.428] [info]  SET_HINT Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:24.429] [info]  SET_CHOICES Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:24.666] [info]  ‚Üï RESIZE: 320 x 144\r\n[2021-09-05 19:39:31.755] [info]  SET_MODE Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:31.755] [info]  SET_PROMPT_DATA Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:31.755] [info]  SET_HINT Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:31.755] [info]  SET_CHOICES Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:31.760] [info]  ‚Üï RESIZE: 320 x 312\r\n[2021-09-05 19:39:31.779] [info]  ‚Üï RESIZE: 320 x 272\r\n[2021-09-05 19:39:33.891] [info]  CONSOLE_WARN Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:33.894] [info]  CONSOLE_WARN Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:33.895] [info]  CONSOLE_WARN Prompt process run-tutorial.js id: 52013\r\n[2021-09-05 19:39:33.914] [info]  üá¶üá∑ /Users/sb/.kit/cli/error-action.js run-tutorial.js,/Users/sb/.kenv/tmp/run-tutorial/error-2021-09-05-23-39-33.txt,/Users/sb/.kenv/kenvs/examples/scripts/run-tutorial.js,1,1\r\n[2021-09-05 19:39:33.914] [info]  üõë kill Prompt /Users/sb/.kit/main/index.js id: 52013\r\n[2021-09-05 19:39:33.915] [info]  { length: 0, path: '/Users/sb/.kit/cli/error-action.js' }\r\n[2021-09-05 19:39:33.915] [info]  üèé /Users/sb/.kit/cli/error-action.js 52039\r\n[2021-09-05 19:39:33.980] [info]  üü¢ start idle Prompt id: 52158\r\n[2021-09-05 19:39:33.980] [info]  üïπ sk /Users/sb/.kit/cli/error-action.js run-tutorial.js,/Users/sb/.kenv/tmp/run-tutorial/error-2021-09-05-23-39-33.txt,/Users/sb/.kenv/kenvs/examples/scripts/run-tutorial.js,1,1\r\n[2021-09-05 19:39:33.981] [info]  SET_SCRIPT Prompt process error-action.js id: 52039\r\n[2021-09-05 19:39:33.981] [info]  CONSOLE_LOG Prompt process error-action.js id: 52039\r\n[2021-09-05 19:39:33.982] [info]  SET_MODE Prompt process error-action.js id: 52039\r\n[2021-09-05 19:39:33.983] [info]  SET_PROMPT_DATA Prompt process error-action.js id: 52039\r\n[2021-09-05 19:39:33.983] [info]  SET_HINT Prompt process error-action.js id: 52039\r\n[2021-09-05 19:39:33.983] [info]  SET_IGNORE_BLUR Prompt process error-action.js id: 52039\r\n[2021-09-05 19:39:33.983] [info]  SET_CHOICES Prompt process error-action.js id: 52039\r\n[2021-09-05 19:39:33.985] [info]  ‚Üï RESIZE: 320 x 248\r\n[2021-09-05 19:39:33.989] [info]  ‚Üï RESIZE: 320 x 304\r\n[2021-09-05 19:39:33.996] [info]  ‚Üï RESIZE: 320 x 408\r\n[2021-09-05 19:39:39.405] [info]  CONSOLE_LOG Prompt process error-action.js id: 52039\r\n[2021-09-05 19:39:39.656] [info]  ‚Üï RESIZE: 320 x 184\r\n[2021-09-05 19:39:40.608] [info]  üü° end Prompt process:  id: 52039\r\n[2021-09-05 19:39:40.609] [info]  üõë kill Prompt /Users/sb/.kit/cli/error-action.js id: 52039\r\n\r\n<h2>run-tutorial.js</h2>\r\n// Menu: Run the Tutorial\r\n// Description: Learn the basics of using Script Kit\r\n// Author: John Lindquist\r\n// Twitter: @johnlindquist\r\n\r\nawait cli(\r\n  \"new\",\r\n  \"--template\",\r\n  \"tutorial\",\r\n  \"--message\",\r\n  'Enter a script name: e.g. \"github-user\"'\r\n)\r\n\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/423","url":"","title":"Can Scriptkit do this?","command":"can-scriptkit-do-this","content":"I use Create React App a lot. A few times a day sometimes just to try things out. Every time I start a new CRA I do the exact same thing every time. I delete the same files, update the same files, and add the same boilerplate... every time.\r\n\r\nCould I use Scriptkit to automate that process... possibly? That would be fantastic.","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/3830326?v=4","user":"stevebarakat","author":null,"twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/421","url":"","title":"How do I get the UI to appear?","command":"how-do-i-get-the-ui-to-appear","content":"How do I get the UI to appear in Scriptkit? cmd + shift + ; opens the Spelling and Grammer panel in Mac...","extension":".md"},{"menu":"New Post","description":"Create a new blog post","author":"Kent C. Dodds","shortcut":"command option control p","twitter":"kentcdodds","avatar":"https://avatars.githubusercontent.com/u/1500684?u=f35a28c4eead6ba9636a8ff5858f6977d8593c43&v=4","user":"kentcdodds","discussion":"https://github.com/johnlindquist/kit/discussions/420","url":"https://gist.githubusercontent.com/kentcdodds/f9a5b9f24f8866e75138ff1629bab071/raw/ba9205394f971b62e56064ea528a905b49e10768/new-post.js","title":"Create new Blog Post","command":"create-new-blog-post","content":"I'm even using metascraper to scrape unsplash for an image, it's alt text, and author (unsplash does not make any of these things easy, yes I realize they have an API, but their terms say you have to hotlink to them if you use it and I don't want to).\r\n\r\nI'm using cloudinary auto-uploads so I don't have to bother uploading the photo manually either :)\r\n\r\n[Install new-post](https://scriptkit.com/api/new?name=new-post&url=https://gist.githubusercontent.com/kentcdodds/f9a5b9f24f8866e75138ff1629bab071/raw/ba9205394f971b62e56064ea528a905b49e10768/new-post.js\")\r\n\r\n```js\r\n// Menu: New Post\r\n// Description: Create a new blog post\r\n// Author: Kent C. Dodds\r\n// Shortcut: command option control p\r\n// Twitter: @kentcdodds\r\n\r\nconst dateFns = await npm('date-fns')\r\nconst prettier = await npm('prettier')\r\nconst YAML = await npm('yaml')\r\nconst slugify = await npm('@sindresorhus/slugify')\r\nconst {format: formatDate} = await npm('date-fns')\r\nconst makeMetascraper = await npm('metascraper')\r\nconst {$filter, toRule} = await npm('@metascraper/helpers')\r\n\r\nconst unsplashTitleToAlt = toRule(str => str.replace(/ photo ‚Äì .*$/, ''))\r\nconst unsplashOGTitleToAuthor = toRule(str =>\r\n  str.replace(/Photo by (.*?) on Unsplash/, '$1'),\r\n)\r\nconst unsplashImageToPhotoId = toRule(str =>\r\n  new URL(str).pathname.replace('/', ''),\r\n)\r\n\r\nconst metascraper = makeMetascraper([\r\n  {\r\n    unsplashPhotoId: [\r\n      unsplashImageToPhotoId($ =>\r\n        $('meta[property=\"og:image\"]').attr('content'),\r\n      ),\r\n    ],\r\n  },\r\n  {\r\n    author: [\r\n      unsplashOGTitleToAuthor($ =>\r\n        $('meta[property=\"og:title\"]').attr('content'),\r\n      ),\r\n    ],\r\n  },\r\n  {alt: [unsplashTitleToAlt($ => $('title').text())]},\r\n])\r\n\r\nasync function getMetadata(url) {\r\n  const html = await fetch(url).then(res => res.text())\r\n  return metascraper({html, url})\r\n}\r\n\r\nconst blogDir = await env(\r\n  'KCD_BLOG_CONTENT_DIR',\r\n  `What's the path to the blog content directory on this machine?`,\r\n)\r\n\r\nconst title = await arg({\r\n  placeholder: `What's the title of this post?`,\r\n  hint: 'Title',\r\n  ignoreBlur: true,\r\n})\r\n\r\nconst description = await arg({\r\n  placeholder: `What's the description of this post?`,\r\n  hint: 'Description',\r\n  input: 'TODO: add a description',\r\n  ignoreBlur: true,\r\n})\r\n\r\nconst categories = (\r\n  await arg({\r\n    placeholder: `What are the categories of this post?`,\r\n    hint: 'Categories (comma separated)',\r\n    ignoreBlur: true,\r\n  })\r\n)\r\n  .split(',')\r\n  .map(c => c.trim())\r\n\r\nconst keywords = (\r\n  await arg({\r\n    placeholder: `What are the keywords of this post?`,\r\n    hint: 'Keywords (comma separated)',\r\n    ignoreBlur: true,\r\n  })\r\n)\r\n  .split(',')\r\n  .map(c => c.trim())\r\n\r\nconst unsplashPhotoInput = await arg({\r\n  placeholder: `What's the unsplash photo?`,\r\n  hint: 'Unsplash Photo',\r\n  ignoreBlur: true,\r\n})\r\nconst unsplashPhotoUrl = unsplashPhotoInput.startsWith('http')\r\n  ? unsplashPhotoInput\r\n  : `https://unsplash.com/photos/${unsplashPhotoInput}`\r\n\r\nconst metadata = await getMetadata(unsplashPhotoUrl)\r\n\r\nconst frontmatter = YAML.stringify({\r\n  title,\r\n  date: dateFns.format(new Date(), 'yyyy-MM-dd'),\r\n  description,\r\n  categories,\r\n  meta: {keywords},\r\n  bannerCloudinaryId: `unsplash/${metadata.unsplashPhotoId}`,\r\n  bannerAlt: metadata.alt,\r\n  bannerCredit: `Photo by [${metadata.author}](${unsplashPhotoUrl})`,\r\n})\r\n\r\nconst md = `---\r\n${frontmatter}\r\n---\r\n\r\nBe excellent to each other.\r\n`\r\n\r\n// prettify the markdown\r\nconst prettyMd = await prettier.format(md, {\r\n  parser: 'markdown',\r\n  arrowParens: 'avoid',\r\n  bracketSpacing: false,\r\n  embeddedLanguageFormatting: 'auto',\r\n  htmlWhitespaceSensitivity: 'css',\r\n  insertPragma: false,\r\n  jsxBracketSameLine: false,\r\n  jsxSingleQuote: false,\r\n  printWidth: 80,\r\n  proseWrap: 'always',\r\n  quoteProps: 'as-needed',\r\n  requirePragma: false,\r\n  semi: false,\r\n  singleQuote: true,\r\n  tabWidth: 2,\r\n  trailingComma: 'all',\r\n  useTabs: false,\r\n  vueIndentScriptAndStyle: false,\r\n})\r\n\r\nconst filename = slugify(title, {decamelize: false})\r\nconst newFile = path.join(blogDir, `${filename}.mdx`)\r\nawait writeFile(newFile, prettyMd)\r\nawait edit(newFile)\r\n\r\n```\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/180256?v=4","user":"nadeemkhedr","author":"Nadeem Khedr","twitter":"nadeemkhedr","discussion":"https://github.com/johnlindquist/kit/discussions/419","url":"","title":"How to show the scriptkit autocomplete with only subset of the scripts","command":"how-to-show-the-scriptkit-autocomplete-with-only-subset-of-the-scripts","content":"Usecase, I have a bunch of scripts related to vim, I want to only show them when I hit a shortcut \r\n\r\nI saw the `left-click.js` and tried to create a new script with the same content \r\n\r\n```javascript\r\nlet script = await arg(\r\n  `Which script do you want to run?`,\r\n  //Put \"choices\" inside of function when caching to avoid re-running\r\n  async () => (await cli(\"scripts\")).scripts,\r\n  //Enable caching\r\n  true\r\n)\r\n\r\nawait run(script)\r\n```\r\n\r\nI assume I can filter on `cli('scripts')` but the issue is that line throw an exception it tries to import `scripts` file but can't find it","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/180256?v=4","user":"nadeemkhedr","author":"Nadeem Khedr","twitter":"nadeemkhedr","discussion":"https://github.com/johnlindquist/kit/discussions/418","url":"","title":"Make chrome helper function works with other chromium browsers","command":"make-chrome-helper-function-works-with-other-chromium-browsers","content":"I am currently using Brave, and for  most part, both chrome & brave **AppleScripts** are exactly the same\r\nIt would be nice to have helper functions like `focusTab`, `getActiveTab` to work with `Brave` instead of chrome\r\n\r\nA solution might be, add an env var to set the chromium browser, by default it is set to `chrome` ","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/180256?v=4","user":"nadeemkhedr","author":"Nadeem Khedr","twitter":"nadeemkhedr","discussion":"https://github.com/johnlindquist/kit/discussions/416","url":"","title":"How to know all the built-in helper functions","command":"how-to-know-all-the-built-in-helper-functions","content":"I do know there are so many nice utils, is there a doc listing them? ","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/725120?u=9a4ac0020d0e405b332b2c408ef77588c67bf8b2&v=4","user":"horacioh","author":"Horacio Herrera","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/414","url":"","title":"script to add a link to a page in a markdown file. how? ü§î","command":"script-to-add-a-link-to-a-page-in-a-markdown-file-how","content":"I'm a big [Foam](https://foambubble.github.io/foam/) user. I have a file called `inbox.md` with a huge list of links I want to read. I know use a chrome extension that copies the focused page link in markdown format (`[google](https://google.com)`) so I can just open the file and paste there at the top of the list.\r\n\r\nI'm sure some of you'all have done something similar maybe? can someone point me to a similar example in which I can pass the link to a script and the script updates the file for me?\r\n\r\nmaybe this is a good start? https://www.scriptkit.com/johnlindquist/scripts/new-journal-entry\r\n\r\nthanks!!","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/1780212?u=d13d5e4e13fac82156fe85a78a2079c560a349b8&v=4","user":"hariombalhara","author":null,"twitter":"hariom_balhara","discussion":"https://github.com/johnlindquist/kit/discussions/409","url":"","title":"Github Actions","command":"github-actions","content":"[Github Actions Script](https://gist.github.com/hariombalhara/969bd98ec14006d5b8b60fb51d018aa2)\r\n\r\nI have my blog using Notion API and whenever I want to publish a post to my blog, I trigger a GitHub Workflow that does the job.\r\n\r\nEarlier, I used to do it using a bookmark for the workflow and 1-2 additional clicks in Github UI. \r\n","extension":".md"},{"menu":"Drag demo","avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/405","url":"","title":"beta.55 Improved Search, Drag, and Happiness üòä","command":"beta55-improved-search-drag-and-happiness","content":"## Search Improvements\r\n\r\nbeta.55 has a vastly improved search:\r\n\r\nSearch descriptions üéâ\r\n\r\n![CleanShot 2021-08-20 at 13 37 44](https://user-images.githubusercontent.com/36073/130285547-24f111d7-a706-4be2-b0d6-b425afbe6683.png)\r\n\r\nSearch shortcuts\r\n\r\n![CleanShot 2021-08-20 at 13 51 49](https://user-images.githubusercontent.com/36073/130286634-4797c029-c2ed-4071-9e1d-285d6bf1a15f.png)\r\n\r\nSearch by kenv\r\n\r\n![CleanShot 2021-08-20 at 13 51 18](https://user-images.githubusercontent.com/36073/130286567-4fd0a155-43a7-4af5-bd3f-c0a9db9ae8dc.png)\r\n\r\nSear by \"command-name\" (if you can't think of // Menu: name)\r\n\r\n![CleanShot 2021-08-20 at 13 54 45](https://user-images.githubusercontent.com/36073/130286878-62b2a139-b3b7-4c34-904f-40d7b03a7e1c.png)\r\n\r\nSorts by \"score\" (rather than alphabetically)\r\n\r\n## Drag\r\n\r\nChoices can now take a `drag` property. This will make list items \"draggable\" and allow you to drag/drop to copy files from your machine (or even from URLs!) into any app. When using remote URLs, their will be a bit of \"delay\" while the file downloads (depending on the file size) between \"drag start\" and \"drop enabled\", so just be aware. I'll add some sort of download progress indicator sometime in the future, just not high priority üòÖ\r\n\r\n```js\r\n// Menu: Drag demo\r\n\r\nawait arg(\r\n  {\r\n    placeholder: \"Drag something from below\",\r\n    ignoreBlur: true,\r\n  },\r\n  [\r\n    {\r\n      name: \"Heart Eyes (local)\",\r\n      drag: \"/Users/johnlindquist/Downloads/john-hearts@2x.png\",\r\n      img: \"/Users/johnlindquist/Downloads/john-hearts@2x.png\",\r\n    },\r\n    {\r\n      name: \"React logo svg (wikipedia)\",\r\n      drag: \"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg\",\r\n      img: \"https://upload.wikimedia.org/wikipedia/commons/a/a7/React-icon.svg\",\r\n    },\r\n  ]\r\n)\r\n```\r\n\r\n![CleanShot 2021-08-20 at 15 26 07](https://user-images.githubusercontent.com/36073/130294979-c45aabe2-6c30-41ad-94b4-64a85a2c34eb.gif)\r\n\r\nYou can use the `drag` object syntax to define a `format` and `data`\r\n\r\n> `text/html`: Renders the HTML payload in contentEditable elements and rich text (WYSIWYG) editors like Google Docs, Microsoft Word, and others.\r\n> `text/plain`: Sets the value of input elements, content of code editors, and the fallback from text/html.\r\n> `text/uri-list`: Navigates to the URL when dropping on the URL bar or browser page. A URL shortcut will be created when dropping on a directory or the desktop.\r\n\r\n```js\r\n// Menu: Drag demo\r\n\r\nawait arg(\r\n  {\r\n    placeholder: \"Drag something from below\",\r\n    ignoreBlur: true,\r\n  },\r\n  [\r\n    {\r\n      name: \"Padding 4\",\r\n      drag: {\r\n        format: \"text/plain\",\r\n        data: `className=\"p-4\"`,\r\n      },\r\n    },\r\n    {\r\n      name: \"I love code\",\r\n      drag: {\r\n        format: \"text/html\",\r\n        data: `<span style=\"background-color:yellow;font-family:Roboto Mono\">I ‚ù§Ô∏è code</span>`,\r\n      },\r\n    },\r\n  ]\r\n)\r\n```\r\n\r\n![CleanShot 2021-08-20 at 15 48 00](https://user-images.githubusercontent.com/36073/130296713-6249d5c2-c01f-42d1-b2c2-ea86d2e4c29b.gif)\r\n\r\n## Happiness\r\n\r\nI'm _very_ happy with the state of Script Kit. When I started almost a year ago, I had no idea I could push the concept of creating/sharing/managing custom scripts so far. I think it looks great, feels speedy, and is flexible enough to handle so, so many scenarios.\r\n\r\nWith everything in place, next week I'm starting on creating lessons, demos, and docs. It's time to show you what Script Kit can really do üòâ \r\n\r\nP.S. - Thanks for all the beta-testing and feedback. It's been tremendously helpful!\r\n","extension":".md"},{"shortcode":"mdn","menu":"Search MDN","description":"Search and open MDN docs","author":"John Lindquist","twitter":null,"avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","discussion":"https://github.com/johnlindquist/kit/discussions/400","url":"https://gist.githubusercontent.com/johnlindquist/3c3b581c19e5ad78d2a0a8d659dafee8/raw/bc7e56597e2eb90872b1133e17ee77d5b380760e/mdn-search.js","title":"Search MDN","command":"search-mdn","content":"\r\n[Install mdn-search](https://scriptkit.com/api/new?name=mdn-search&url=https://gist.githubusercontent.com/johnlindquist/3c3b581c19e5ad78d2a0a8d659dafee8/raw/bc7e56597e2eb90872b1133e17ee77d5b380760e/mdn-search.js\")\r\n\r\n```js\r\n// Shortcode: mdn\r\n// Menu: Search MDN\r\n// Description: Search and open MDN docs\r\n// Author: John Lindquist\r\n// Twitter: @johnlindquist\r\n\r\nlet searchIndexResponse = await get(\r\n  `https://developer.mozilla.org/en-US/search-index.json`\r\n)\r\n\r\nlet url = await arg(\r\n  `Select doc:`,\r\n  searchIndexResponse.data.map(({ title, url }) => ({\r\n    name: title,\r\n    description: url,\r\n    value: `https://developer.mozilla.org${url}`,\r\n  }))\r\n)\r\n\r\nexec(`open '${url}'`)\r\n\r\n```\r\n","extension":".md"},{"menu":"Notify Demo","avatar":"https://avatars.githubusercontent.com/u/36073?u=1617518acc4e480c94d57308adfedebcd936ffd1&v=4","user":"johnlindquist","author":"John Lindquist","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/397","url":"https://gist.githubusercontent.com/johnlindquist/b96c8f8de9c256f909ae0f6ab0adda39/raw/9f049cf454f0766fb278e5ee7a24c6b6776df889/flags-demo.js","title":"beta.46 Design, ‚öê Flags, div, fixed notify","command":"beta46-design-flags-div-fixed-notify","content":"## Design/theme\r\n\r\nPut a lot of work into tightening up pixels and made progress towards custom themes:\r\n\r\n![CleanShot 2021-08-13 at 09 35 40](https://user-images.githubusercontent.com/36073/129383567-ae628c68-3c96-463f-a47e-4800186ea7ac.png)\r\n\r\nHere's a silly demo of me playing with theme generation:\r\n\r\nhttps://user-images.githubusercontent.com/36073/129384214-2af744ab-8165-4e3f-825d-42fadbf86aec.mp4\r\n\r\n## Flags ‚öê\r\n\r\nAn astute observer would notice that the `Edit` and `Share` tabs are now gone. They've been consolidated into a \"flag menu\".\r\n\r\nWhen you press the `right` key from the main menu of script, the flag menu now opens up. This shows the selected script and gives you some options. It also exposes the keyboard shortcuts associated with those options that you can use to :\r\n\r\n![CleanShot 2021-08-13 at 09 42 52](https://user-images.githubusercontent.com/36073/129384559-bff59ebf-88d9-4b95-b9b5-640ce755fe8f.png)\r\n\r\nI've found I use `cmd+o` and `cmd+n` all the time to tweak scripts of quickly create a new one to play around with.\r\n\r\n### Custom Flags\r\n\r\nYou can pass your own custom flags like so:\r\n\r\n[Install flags-demo](https://scriptkit.com/api/new?name=flags-demo&url=https://gist.githubusercontent.com/johnlindquist/b96c8f8de9c256f909ae0f6ab0adda39/raw/9f049cf454f0766fb278e5ee7a24c6b6776df889/flags-demo.js)\r\n\r\n```js\r\n//Menu: Flags demo\r\n\r\nlet urls = [\r\n  \"https://scriptkit.com\",\r\n  \"https://egghead.io\",\r\n  \"https://johnlindquist.com\",\r\n]\r\n\r\nlet flags = {\r\n  open: {\r\n    name: \"Open\",\r\n    shortcut: \"cmd+o\",\r\n  },\r\n  copy: {\r\n    name: \"Copy\",\r\n    shortcut: \"cmd+c\",\r\n  },\r\n}\r\n\r\nlet url = await arg(\r\n  { placeholder: `Press 'right' to see menu`, flags },\r\n  urls\r\n)\r\n\r\nif (flag?.open) {\r\n  $`open ${url}`\r\n} else if (flag?.copy) {\r\n  copy(url)\r\n} else {\r\n  console.log(url)\r\n}\r\n```\r\n\r\nNotice that `flag` is a global while `flags` is an object you pass to `arg`. This is to help keep it consistent with terminal usage:\r\n\r\nFrom the terminal\r\n```bash\r\nflags-demo --open\r\n```\r\n\r\nWill set the global `flag.open` to `true`\r\n\r\n![CleanShot 2021-08-13 at 10 08 30](https://user-images.githubusercontent.com/36073/129388037-3f27a12d-9e44-4402-a51f-bac39eead54d.png)\r\n\r\n\r\nYou could also run this and pass in all the args:\r\n\r\n```bash\r\nflags-demo https://egghead.io --copy\r\n```\r\n\r\nIn the app, you could create a second script to pass flags to the first with. This is required if you need to pass multiple flags since the `arg` helper can only \"submit\" one per `arg`.\r\n\r\n```js\r\nawait run(`flags-demo https://egghead.io --copy`)\r\n```\r\n\r\nI'll put together some more demos soon. There are plenty of existing CLI tools out there using flags heavily, so lots of inspiration to pull from.\r\n\r\n## `await div()`\r\n\r\nThere's a new `div` \"component\". You can pass in arbitrary HTML. This works well with the `md()` helper which generates `html` from markdown.\r\n\r\n[Install div-demo](https://scriptkit.com/api/new?name=div-demo&url=https://gist.githubusercontent.com/johnlindquist/0ad790953f7101d313abfd48182356b0/raw/c70e17649317986707d2ac714c31afe6f7850015/div-demo.js)\r\n\r\n```js\r\n// Menu: Div Demo\r\n\r\n// Hit \"enter\" to continue, escape to exit\r\nawait div(`<img src=\"https://placekitten.com/320\"/>`)\r\n\r\nawait div(\r\n  md(\r\n    `\r\n    # Some header\r\n\r\n    ## You guessed it, an h2\r\n\r\n    * I\r\n    * love\r\n    * lists\r\n    `\r\n  )\r\n)\r\n\r\n```\r\n\r\n## Fixed `notify`\r\n\r\n`notify` is now fixed so that it doesn't open a prompt\r\n\r\nThe most basic usage is:\r\n\r\n```js\r\nnotify(\"Hello world\")\r\n```\r\n\r\n`notify` leverages [https://www.npmjs.com/package/node-notifier](https://www.npmjs.com/package/node-notifier)\r\n\r\nSo the entire API should be available. Here's an example of using the \"type inside a notification\":\r\n\r\n[Install notify-demo](https://scriptkit.com/api/new?name=notify-demo&url=https://gist.githubusercontent.com/johnlindquist/44387dc5b0c170e4146b061162c33532/raw/1bce77fb778a45cf9052a63d02dcab94a9cf7ef0/notify-demo.js)\r\n\r\n```js\r\n// Menu: Notify Demo\r\nlet notifier = notify({\r\n  title: \"Notifications\",\r\n  message: \"Write a reply?\",\r\n  reply: true,\r\n})\r\n\r\nnotifier.on(\"replied\", async (obj, options, metadata) => {\r\n  await arg(metadata.activationValue)\r\n})\r\n\r\n```\r\n\r\n\r\n","extension":".md"},{"menu":"Genius Lyrics Search","avatar":"https://avatars.githubusercontent.com/u/124208?u=5b2a19548fc1db39a17293af84a845aef2906dc5&v=4","user":"dealingwith","author":"Daniel Miller","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/392","url":"https://gist.githubusercontent.com/dealingwith/11ca5e660d3873a3e521ad2905e2b5b7/raw/4910306cd3818772b1cd67b1718e0f3d59e7ced5/song-search.js","title":"Genius Lyrics Lookup","command":"genius-lyrics-lookup","content":"Just what it says on the tin. How can I improve this one?\r\n\r\n[Install song-search](https://scriptkit.com/api/new?name=song-search&url=https://gist.githubusercontent.com/dealingwith/11ca5e660d3873a3e521ad2905e2b5b7/raw/4910306cd3818772b1cd67b1718e0f3d59e7ced5/song-search.js)\r\n\r\n```js\r\n// Menu: Genius Lyrics Search\r\n\r\nlet Genius = await npm('genius-lyrics-api')\r\n\r\nlet geniusUserToken = await env(\"GENIUS_AUTH_TOKEN\")\r\nimport { getLyrics, searchSong } from 'genius-lyrics-api';\r\n\r\nlet songTitle = await arg(\"Song Title\")\r\n\r\nlet options = {\r\n  apiKey: geniusUserToken,\r\n  title: songTitle,\r\n  artist: '',\r\n  optimizeQuery: true\r\n}\r\n\r\nlet returnedSongs = await(searchSong(options).then((r) => r))\r\nlet returnedSongTitles = returnedSongs.map(s => s.title)\r\n\r\nlet chosenSongTitle = await arg(\"Which song?\", returnedSongTitles)\r\n\r\nlet songData = returnedSongs.filter(s => s.title == chosenSongTitle)\r\nlet lyrics = await(getLyrics(songData[0].url).then((r) => r))\r\n\r\nlet whatToDo = await arg(\"\", [\"Copy\", \"View\", \"Visit\"])\r\n\r\nif (whatToDo == \"Copy\") copy(lyrics)\r\nelse if (whatToDo == \"View\") await textarea(lyrics)\r\nelse if (whatToDo == \"Visit\") await focusTab(songData[0].url)\r\n\r\n```\r\n","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/124208?u=5b2a19548fc1db39a17293af84a845aef2906dc5&v=4","user":"dealingwith","author":"Daniel Miller","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/390","url":"https://gist.githubusercontent.com/dealingwith/3cdc6420882928df72f9671fd8f366d7/raw/cce80aaf26edd7210f15af16ecb3cade4013dd39/batch-image-resize.js","title":"Resize selected images","command":"resize-selected-images","content":"Resizes selected images to specified width. Note: overwrites existing files.\r\n\r\n[Install batch-image-resize](https://scriptkit.com/api/new?name=batch-image-resize&url=https://gist.githubusercontent.com/dealingwith/3cdc6420882928df72f9671fd8f366d7/raw/cce80aaf26edd7210f15af16ecb3cade4013dd39/batch-image-resize.js)\r\n\r\n```js\r\nlet Jimp = await npm('jimp')\r\n\r\nlet width = await arg('New width in pixels')\r\n\r\nlet selectedFiles = await getSelectedFile();\r\nlet filePaths = selectedFiles.split(\"\\n\");\r\n\r\nfor (let filePath of filePaths) {\r\n  Jimp.read(filePath, (err, image) => {\r\n    if (err) throw err;\r\n    image.resize(parseInt(width), Jimp.AUTO).write(filePath); // save\r\n  });\r\n}\r\n```","extension":".md"},{"avatar":"https://avatars.githubusercontent.com/u/26470581?u=89e0c4f7db5c054125a372dc17b4590e297ac20d&v=4","user":"lsminter","author":"Lucas Minter","twitter":null,"discussion":"https://github.com/johnlindquist/kit/discussions/387","url":"","title":"Kit errors out on running scripts","command":"kit-errors-out-on-running-scripts","content":"This is the error I'm receiving every time I try to run the dad joke script. \r\n```\r\nRequest failed with status code 503 Error: Request failed with status code 503 at createError \r\n(/Users/lucasminter/.kit/node_modules/axios/lib/core/createError.js:16:15) at settle \r\n(/Users/lucasminter/.kit/node_modules/axios/lib/core/settle.js:17:12) at \r\nIncomingMessage.handleStreamEnd \r\n(/Users/lucasminter/.kit/node_modules/axios/lib/adapters/http.js:260:11) at IncomingMessage.emit \r\n(node:events:406:35) at endReadableNT (node:internal/streams/readable:1331:12) at \r\nprocessTicksAndRejections (node:internal/process/task_queues:83:21)\r\n```\r\n\r\nIt seems like when I try to get access to an external dependency, I get an error. \r\n\r\nI've tried deleting my .kenv and my .kit and reinstalling from scratch and no luck. \r\n\r\nI've also had issues trying to open it in an editor. I would get a quick error, too fast to see, then kit would close. After deleting everything and reinstalling, I don't have an option to open in VSCode, only Vim and Nano. ","extension":".md"}]
